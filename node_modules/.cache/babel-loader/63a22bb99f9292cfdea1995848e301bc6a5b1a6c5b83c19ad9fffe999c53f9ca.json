{"ast":null,"code":"/**\n * Anime.js - waapi - ESM\n * @version v4.2.2\n * @license MIT\n * @copyright 2025 - Julian Garnier\n */\n\nimport { removeChild, addChild } from '../core/helpers.js';\n\n/**\n * @import {\n *   DOMTarget,\n * } from '../types/index.js'\n*/\n\n/**\n * @import {\n *   WAAPIAnimation,\n * } from '../waapi/waapi.js'\n*/\n\nconst WAAPIAnimationsLookups = {\n  _head: null,\n  _tail: null\n};\n\n/**\n * @param {DOMTarget} $el\n * @param {String} [property]\n * @param {WAAPIAnimation} [parent]\n * @return {globalThis.Animation}\n */\nconst removeWAAPIAnimation = ($el, property, parent) => {\n  let nextLookup = WAAPIAnimationsLookups._head;\n  let anim;\n  while (nextLookup) {\n    const next = nextLookup._next;\n    const matchTarget = nextLookup.$el === $el;\n    const matchProperty = !property || nextLookup.property === property;\n    const matchParent = !parent || nextLookup.parent === parent;\n    if (matchTarget && matchProperty && matchParent) {\n      anim = nextLookup.animation;\n      try {\n        anim.commitStyles();\n      } catch {}\n      anim.cancel();\n      removeChild(WAAPIAnimationsLookups, nextLookup);\n      const lookupParent = nextLookup.parent;\n      if (lookupParent) {\n        lookupParent._completed++;\n        if (lookupParent.animations.length === lookupParent._completed) {\n          lookupParent.completed = true;\n          lookupParent.paused = true;\n          if (!lookupParent.muteCallbacks) {\n            lookupParent.onComplete(lookupParent);\n            lookupParent._resolve(lookupParent);\n          }\n        }\n      }\n    }\n    nextLookup = next;\n  }\n  return anim;\n};\n\n/**\n * @param {WAAPIAnimation} parent\n * @param {DOMTarget} $el\n * @param {String} property\n * @param {PropertyIndexedKeyframes} keyframes\n * @param {KeyframeAnimationOptions} params\n * @retun {globalThis.Animation}\n */\nconst addWAAPIAnimation = (parent, $el, property, keyframes, params) => {\n  const animation = $el.animate(keyframes, params);\n  const animTotalDuration = params.delay + +params.duration * params.iterations;\n  animation.playbackRate = parent._speed;\n  if (parent.paused) animation.pause();\n  if (parent.duration < animTotalDuration) {\n    parent.duration = animTotalDuration;\n    parent.controlAnimation = animation;\n  }\n  parent.animations.push(animation);\n  removeWAAPIAnimation($el, property);\n  addChild(WAAPIAnimationsLookups, {\n    parent,\n    animation,\n    $el,\n    property,\n    _next: null,\n    _prev: null\n  });\n  const handleRemove = () => {\n    removeWAAPIAnimation($el, property, parent);\n  };\n  animation.oncancel = handleRemove;\n  animation.onremove = handleRemove;\n  if (!parent.persist) {\n    animation.onfinish = handleRemove;\n  }\n  return animation;\n};\nexport { addWAAPIAnimation, removeWAAPIAnimation };","map":{"version":3,"names":["removeChild","addChild","WAAPIAnimationsLookups","_head","_tail","removeWAAPIAnimation","$el","property","parent","nextLookup","anim","next","_next","matchTarget","matchProperty","matchParent","animation","commitStyles","cancel","lookupParent","_completed","animations","length","completed","paused","muteCallbacks","onComplete","_resolve","addWAAPIAnimation","keyframes","params","animate","animTotalDuration","delay","duration","iterations","playbackRate","_speed","pause","controlAnimation","push","_prev","handleRemove","oncancel","onremove","persist","onfinish"],"sources":["/Users/mukku/Desktop/Work and Education/Projects/zeronia.org/node_modules/animejs/dist/modules/waapi/composition.js"],"sourcesContent":["/**\n * Anime.js - waapi - ESM\n * @version v4.2.2\n * @license MIT\n * @copyright 2025 - Julian Garnier\n */\n\nimport { removeChild, addChild } from '../core/helpers.js';\n\n/**\n * @import {\n *   DOMTarget,\n * } from '../types/index.js'\n*/\n\n/**\n * @import {\n *   WAAPIAnimation,\n * } from '../waapi/waapi.js'\n*/\n\nconst WAAPIAnimationsLookups = {\n  _head: null,\n  _tail: null,\n};\n\n/**\n * @param {DOMTarget} $el\n * @param {String} [property]\n * @param {WAAPIAnimation} [parent]\n * @return {globalThis.Animation}\n */\nconst removeWAAPIAnimation = ($el, property, parent) => {\n  let nextLookup = WAAPIAnimationsLookups._head;\n  let anim;\n  while (nextLookup) {\n    const next = nextLookup._next;\n    const matchTarget = nextLookup.$el === $el;\n    const matchProperty = !property || nextLookup.property === property;\n    const matchParent = !parent || nextLookup.parent === parent;\n    if (matchTarget && matchProperty && matchParent) {\n      anim = nextLookup.animation;\n      try { anim.commitStyles(); } catch {}      anim.cancel();\n      removeChild(WAAPIAnimationsLookups, nextLookup);\n      const lookupParent = nextLookup.parent;\n      if (lookupParent) {\n        lookupParent._completed++;\n        if (lookupParent.animations.length === lookupParent._completed) {\n          lookupParent.completed = true;\n          lookupParent.paused = true;\n          if (!lookupParent.muteCallbacks) {\n            lookupParent.onComplete(lookupParent);\n            lookupParent._resolve(lookupParent);\n          }\n        }\n      }\n    }\n    nextLookup = next;\n  }\n  return anim;\n};\n\n/**\n * @param {WAAPIAnimation} parent\n * @param {DOMTarget} $el\n * @param {String} property\n * @param {PropertyIndexedKeyframes} keyframes\n * @param {KeyframeAnimationOptions} params\n * @retun {globalThis.Animation}\n */\nconst addWAAPIAnimation = (parent, $el, property, keyframes, params) => {\n  const animation = $el.animate(keyframes, params);\n  const animTotalDuration = params.delay + (+params.duration * params.iterations);\n  animation.playbackRate = parent._speed;\n  if (parent.paused) animation.pause();\n  if (parent.duration < animTotalDuration) {\n    parent.duration = animTotalDuration;\n    parent.controlAnimation = animation;\n  }\n  parent.animations.push(animation);\n  removeWAAPIAnimation($el, property);\n  addChild(WAAPIAnimationsLookups, { parent, animation, $el, property, _next: null, _prev: null });\n  const handleRemove = () => { removeWAAPIAnimation($el, property, parent); };\n  animation.oncancel = handleRemove;\n  animation.onremove = handleRemove;\n  if (!parent.persist) {\n    animation.onfinish = handleRemove;\n  }\n  return animation;\n};\n\nexport { addWAAPIAnimation, removeWAAPIAnimation };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}