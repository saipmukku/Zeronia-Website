{"ast":null,"code":"/**\n * Anime.js - draggable - ESM\n * @version v4.2.2\n * @license MIT\n * @copyright 2025 - Julian Garnier\n */\n\nimport { globals, scope } from '../core/globals.js';\nimport { doc, win, noop, maxValue, compositionTypes } from '../core/consts.js';\nimport { parseTargets } from '../core/targets.js';\nimport { isUnd, isObj, isArr, now, atan2, round, max, snap, clamp, isNum, abs, sqrt, cos, sin, isFnc } from '../core/helpers.js';\nimport { setValue } from '../core/values.js';\nimport { mapRange } from '../utils/number.js';\nimport { Timer } from '../timer/timer.js';\nimport { JSAnimation } from '../animation/animation.js';\nimport { removeTargetsFromRenderable } from '../animation/composition.js';\nimport { Animatable } from '../animatable/animatable.js';\nimport { parseEase, eases } from '../easings/eases/parser.js';\nimport { spring } from '../easings/spring/index.js';\nimport { get, set } from '../utils/target.js';\n\n/**\n * @import {\n *   DOMTarget,\n *   DOMTargetSelector,\n *   DraggableCursorParams,\n *   DraggableDragThresholdParams,\n *   TargetsParam,\n *   DraggableParams,\n *   EasingFunction,\n *   Callback,\n *   AnimatableParams,\n *   DraggableAxisParam,\n *   AnimatableObject,\n *   EasingParam,\n * } from '../types/index.js'\n*/\n\n/**\n * @import {\n *   Spring,\n * } from '../easings/spring/index.js'\n*/\n\n/**\n * @param {Event} e\n */\nconst preventDefault = e => {\n  if (e.cancelable) e.preventDefault();\n};\nclass DOMProxy {\n  /** @param {Object} el */\n  constructor(el) {\n    this.el = el;\n    this.zIndex = 0;\n    this.parentElement = null;\n    this.classList = {\n      add: noop,\n      remove: noop\n    };\n  }\n  get x() {\n    return this.el.x || 0;\n  }\n  set x(v) {\n    this.el.x = v;\n  }\n  get y() {\n    return this.el.y || 0;\n  }\n  set y(v) {\n    this.el.y = v;\n  }\n  get width() {\n    return this.el.width || 0;\n  }\n  set width(v) {\n    this.el.width = v;\n  }\n  get height() {\n    return this.el.height || 0;\n  }\n  set height(v) {\n    this.el.height = v;\n  }\n  getBoundingClientRect() {\n    return {\n      top: this.y,\n      right: this.x,\n      bottom: this.y + this.height,\n      left: this.x + this.width\n    };\n  }\n}\nclass Transforms {\n  /**\n   * @param {DOMTarget|DOMProxy} $el\n   */\n  constructor($el) {\n    this.$el = $el;\n    this.inlineTransforms = [];\n    this.point = new DOMPoint();\n    this.inversedMatrix = this.getMatrix().inverse();\n  }\n\n  /**\n   * @param {Number} x\n   * @param {Number} y\n   * @return {DOMPoint}\n   */\n  normalizePoint(x, y) {\n    this.point.x = x;\n    this.point.y = y;\n    return this.point.matrixTransform(this.inversedMatrix);\n  }\n\n  /**\n   * @callback TraverseParentsCallback\n   * @param {DOMTarget} $el\n   * @param {Number} i\n   */\n\n  /**\n   * @param {TraverseParentsCallback} cb\n   */\n  traverseUp(cb) {\n    let $el = /** @type {DOMTarget|Document} */this.$el.parentElement,\n      i = 0;\n    while ($el && $el !== doc) {\n      cb(/** @type {DOMTarget} */$el, i);\n      $el = /** @type {DOMTarget} */$el.parentElement;\n      i++;\n    }\n  }\n  getMatrix() {\n    const matrix = new DOMMatrix();\n    this.traverseUp($el => {\n      const transformValue = getComputedStyle($el).transform;\n      if (transformValue) {\n        const elMatrix = new DOMMatrix(transformValue);\n        matrix.preMultiplySelf(elMatrix);\n      }\n    });\n    return matrix;\n  }\n  remove() {\n    this.traverseUp(($el, i) => {\n      this.inlineTransforms[i] = $el.style.transform;\n      $el.style.transform = 'none';\n    });\n  }\n  revert() {\n    this.traverseUp(($el, i) => {\n      const ct = this.inlineTransforms[i];\n      if (ct === '') {\n        $el.style.removeProperty('transform');\n      } else {\n        $el.style.transform = ct;\n      }\n    });\n  }\n}\n\n/**\n * @template {Array<Number>|DOMTargetSelector|String|Number|Boolean|Function|DraggableCursorParams|DraggableDragThresholdParams} T\n * @param {T | ((draggable: Draggable) => T)} value\n * @param {Draggable} draggable\n * @return {T}\n */\nconst parseDraggableFunctionParameter = (value, draggable) => value && isFnc(value) ? /** @type {Function} */value(draggable) : (/** @type {T} */value);\nlet zIndex = 0;\nclass Draggable {\n  /**\n   * @param {TargetsParam} target\n   * @param {DraggableParams} [parameters]\n   */\n  constructor(target, parameters = {}) {\n    if (!target) return;\n    if (scope.current) scope.current.register(this);\n    const paramX = parameters.x;\n    const paramY = parameters.y;\n    const trigger = parameters.trigger;\n    const modifier = parameters.modifier;\n    const ease = parameters.releaseEase;\n    const customEase = ease && parseEase(ease);\n    const hasSpring = !isUnd(ease) && !isUnd(/** @type {Spring} */ease.ease);\n    const xProp = /** @type {String} */isObj(paramX) && !isUnd(/** @type {Object} */paramX.mapTo) ? /** @type {Object} */paramX.mapTo : 'translateX';\n    const yProp = /** @type {String} */isObj(paramY) && !isUnd(/** @type {Object} */paramY.mapTo) ? /** @type {Object} */paramY.mapTo : 'translateY';\n    const container = parseDraggableFunctionParameter(parameters.container, this);\n    this.containerArray = isArr(container) ? container : null;\n    this.$container = /** @type {HTMLElement} */container && !this.containerArray ? parseTargets(/** @type {DOMTarget} */container)[0] : doc.body;\n    this.useWin = this.$container === doc.body;\n    /** @type {Window | HTMLElement} */\n    this.$scrollContainer = this.useWin ? win : this.$container;\n    this.$target = /** @type {HTMLElement} */isObj(target) ? new DOMProxy(target) : parseTargets(target)[0];\n    this.$trigger = /** @type {HTMLElement} */parseTargets(trigger ? trigger : target)[0];\n    this.fixed = get(this.$target, 'position') === 'fixed';\n    // Refreshable parameters\n    this.isFinePointer = true;\n    /** @type {[Number, Number, Number, Number]} */\n    this.containerPadding = [0, 0, 0, 0];\n    /** @type {Number} */\n    this.containerFriction = 0;\n    /** @type {Number} */\n    this.releaseContainerFriction = 0;\n    /** @type {Number|Array<Number>} */\n    this.snapX = 0;\n    /** @type {Number|Array<Number>} */\n    this.snapY = 0;\n    /** @type {Number} */\n    this.scrollSpeed = 0;\n    /** @type {Number} */\n    this.scrollThreshold = 0;\n    /** @type {Number} */\n    this.dragSpeed = 0;\n    /** @type {Number} */\n    this.dragThreshold = 3;\n    /** @type {Number} */\n    this.maxVelocity = 0;\n    /** @type {Number} */\n    this.minVelocity = 0;\n    /** @type {Number} */\n    this.velocityMultiplier = 0;\n    /** @type {Boolean|DraggableCursorParams} */\n    this.cursor = false;\n    /** @type {Spring} */\n    this.releaseXSpring = hasSpring ? (/** @type {Spring} */ease) : spring({\n      mass: setValue(parameters.releaseMass, 1),\n      stiffness: setValue(parameters.releaseStiffness, 80),\n      damping: setValue(parameters.releaseDamping, 20)\n    });\n    /** @type {Spring} */\n    this.releaseYSpring = hasSpring ? (/** @type {Spring} */ease) : spring({\n      mass: setValue(parameters.releaseMass, 1),\n      stiffness: setValue(parameters.releaseStiffness, 80),\n      damping: setValue(parameters.releaseDamping, 20)\n    });\n    /** @type {EasingFunction} */\n    this.releaseEase = customEase || eases.outQuint;\n    /** @type {Boolean} */\n    this.hasReleaseSpring = hasSpring;\n    /** @type {Callback<this>} */\n    this.onGrab = parameters.onGrab || noop;\n    /** @type {Callback<this>} */\n    this.onDrag = parameters.onDrag || noop;\n    /** @type {Callback<this>} */\n    this.onRelease = parameters.onRelease || noop;\n    /** @type {Callback<this>} */\n    this.onUpdate = parameters.onUpdate || noop;\n    /** @type {Callback<this>} */\n    this.onSettle = parameters.onSettle || noop;\n    /** @type {Callback<this>} */\n    this.onSnap = parameters.onSnap || noop;\n    /** @type {Callback<this>} */\n    this.onResize = parameters.onResize || noop;\n    /** @type {Callback<this>} */\n    this.onAfterResize = parameters.onAfterResize || noop;\n    /** @type {[Number, Number]} */\n    this.disabled = [0, 0];\n    /** @type {AnimatableParams} */\n    const animatableParams = {};\n    if (modifier) animatableParams.modifier = modifier;\n    if (isUnd(paramX) || paramX === true) {\n      animatableParams[xProp] = 0;\n    } else if (isObj(paramX)) {\n      const paramXObject = /** @type {DraggableAxisParam} */paramX;\n      const animatableXParams = {};\n      if (paramXObject.modifier) animatableXParams.modifier = paramXObject.modifier;\n      if (paramXObject.composition) animatableXParams.composition = paramXObject.composition;\n      animatableParams[xProp] = animatableXParams;\n    } else if (paramX === false) {\n      animatableParams[xProp] = 0;\n      this.disabled[0] = 1;\n    }\n    if (isUnd(paramY) || paramY === true) {\n      animatableParams[yProp] = 0;\n    } else if (isObj(paramY)) {\n      const paramYObject = /** @type {DraggableAxisParam} */paramY;\n      const animatableYParams = {};\n      if (paramYObject.modifier) animatableYParams.modifier = paramYObject.modifier;\n      if (paramYObject.composition) animatableYParams.composition = paramYObject.composition;\n      animatableParams[yProp] = animatableYParams;\n    } else if (paramY === false) {\n      animatableParams[yProp] = 0;\n      this.disabled[1] = 1;\n    }\n    /** @type {AnimatableObject} */\n    this.animate = /** @type {AnimatableObject} */new Animatable(this.$target, animatableParams);\n    // Internal props\n    this.xProp = xProp;\n    this.yProp = yProp;\n    this.destX = 0;\n    this.destY = 0;\n    this.deltaX = 0;\n    this.deltaY = 0;\n    this.scroll = {\n      x: 0,\n      y: 0\n    };\n    /** @type {[Number, Number, Number, Number]} */\n    this.coords = [this.x, this.y, 0, 0]; // x, y, temp x, temp y\n    /** @type {[Number, Number]} */\n    this.snapped = [0, 0]; // x, y\n    /** @type {[Number, Number, Number, Number, Number, Number, Number, Number]} */\n    this.pointer = [0, 0, 0, 0, 0, 0, 0, 0]; // x1, y1, x2, y2, temp x1, temp y1, temp x2, temp y2\n    /** @type {[Number, Number]} */\n    this.scrollView = [0, 0]; // w, h\n    /** @type {[Number, Number, Number, Number]} */\n    this.dragArea = [0, 0, 0, 0]; // x, y, w, h\n    /** @type {[Number, Number, Number, Number]} */\n    this.containerBounds = [-maxValue, maxValue, maxValue, -maxValue]; // t, r, b, l\n    /** @type {[Number, Number, Number, Number]} */\n    this.scrollBounds = [0, 0, 0, 0]; // t, r, b, l\n    /** @type {[Number, Number, Number, Number]} */\n    this.targetBounds = [0, 0, 0, 0]; // t, r, b, l\n    /** @type {[Number, Number]} */\n    this.window = [0, 0]; // w, h\n    /** @type {[Number, Number, Number]} */\n    this.velocityStack = [0, 0, 0];\n    /** @type {Number} */\n    this.velocityStackIndex = 0;\n    /** @type {Number} */\n    this.velocityTime = now();\n    /** @type {Number} */\n    this.velocity = 0;\n    /** @type {Number} */\n    this.angle = 0;\n    /** @type {JSAnimation} */\n    this.cursorStyles = null;\n    /** @type {JSAnimation} */\n    this.triggerStyles = null;\n    /** @type {JSAnimation} */\n    this.bodyStyles = null;\n    /** @type {JSAnimation} */\n    this.targetStyles = null;\n    /** @type {JSAnimation} */\n    this.touchActionStyles = null;\n    this.transforms = new Transforms(this.$target);\n    this.overshootCoords = {\n      x: 0,\n      y: 0\n    };\n    this.overshootTicker = new Timer({\n      autoplay: false,\n      onUpdate: () => {\n        this.updated = true;\n        this.manual = true;\n        // Use a duration of 1 to prevent the animatable from completing immediately to prevent issues with onSettle()\n        // https://github.com/juliangarnier/anime/issues/1045\n        if (!this.disabled[0]) this.animate[this.xProp](this.overshootCoords.x, 1);\n        if (!this.disabled[1]) this.animate[this.yProp](this.overshootCoords.y, 1);\n      },\n      onComplete: () => {\n        this.manual = false;\n        if (!this.disabled[0]) this.animate[this.xProp](this.overshootCoords.x, 0);\n        if (!this.disabled[1]) this.animate[this.yProp](this.overshootCoords.y, 0);\n      }\n    }, null, 0).init();\n    this.updateTicker = new Timer({\n      autoplay: false,\n      onUpdate: () => this.update()\n    }, null, 0).init();\n    this.contained = !isUnd(container);\n    this.manual = false;\n    this.grabbed = false;\n    this.dragged = false;\n    this.updated = false;\n    this.released = false;\n    this.canScroll = false;\n    this.enabled = false;\n    this.initialized = false;\n    this.activeProp = this.disabled[1] ? xProp : yProp;\n    this.animate.callbacks.onRender = () => {\n      const hasUpdated = this.updated;\n      const hasMoved = this.grabbed && hasUpdated;\n      const hasReleased = !hasMoved && this.released;\n      const x = this.x;\n      const y = this.y;\n      const dx = x - this.coords[2];\n      const dy = y - this.coords[3];\n      this.deltaX = dx;\n      this.deltaY = dy;\n      this.coords[2] = x;\n      this.coords[3] = y;\n      // Check if dx or dy are not 0 to check if the draggable has actually moved\n      // https://github.com/juliangarnier/anime/issues/1032\n      if (hasUpdated && (dx || dy)) {\n        this.onUpdate(this);\n      }\n      if (!hasReleased) {\n        this.updated = false;\n      } else {\n        this.computeVelocity(dx, dy);\n        this.angle = atan2(dy, dx);\n      }\n    };\n    this.animate.callbacks.onComplete = () => {\n      if (!this.grabbed && this.released) {\n        // Set released to false before calling onSettle to avoid recursion\n        this.released = false;\n      }\n      if (!this.manual) {\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.velocity = 0;\n        this.velocityStack[0] = 0;\n        this.velocityStack[1] = 0;\n        this.velocityStack[2] = 0;\n        this.velocityStackIndex = 0;\n        this.onSettle(this);\n      }\n    };\n    this.resizeTicker = new Timer({\n      autoplay: false,\n      duration: 150 * globals.timeScale,\n      onComplete: () => {\n        this.onResize(this);\n        this.refresh();\n        this.onAfterResize(this);\n      }\n    }).init();\n    this.parameters = parameters;\n    this.resizeObserver = new ResizeObserver(() => {\n      if (this.initialized) {\n        this.resizeTicker.restart();\n      } else {\n        this.initialized = true;\n      }\n    });\n    this.enable();\n    this.refresh();\n    this.resizeObserver.observe(this.$container);\n    if (!isObj(target)) this.resizeObserver.observe(this.$target);\n  }\n\n  /**\n   * @param  {Number} dx\n   * @param  {Number} dy\n   * @return {Number}\n   */\n  computeVelocity(dx, dy) {\n    const prevTime = this.velocityTime;\n    const curTime = now();\n    const elapsed = curTime - prevTime;\n    if (elapsed < 17) return this.velocity;\n    this.velocityTime = curTime;\n    const velocityStack = this.velocityStack;\n    const vMul = this.velocityMultiplier;\n    const minV = this.minVelocity;\n    const maxV = this.maxVelocity;\n    const vi = this.velocityStackIndex;\n    velocityStack[vi] = round(clamp(sqrt(dx * dx + dy * dy) / elapsed * vMul, minV, maxV), 5);\n    const velocity = max(velocityStack[0], velocityStack[1], velocityStack[2]);\n    this.velocity = velocity;\n    this.velocityStackIndex = (vi + 1) % 3;\n    return velocity;\n  }\n\n  /**\n   * @param {Number}  x\n   * @param {Boolean} [muteUpdateCallback]\n   * @return {this}\n   */\n  setX(x, muteUpdateCallback = false) {\n    if (this.disabled[0]) return;\n    const v = round(x, 5);\n    this.overshootTicker.pause();\n    this.manual = true;\n    this.updated = !muteUpdateCallback;\n    this.destX = v;\n    this.snapped[0] = snap(v, this.snapX);\n    this.animate[this.xProp](v, 0);\n    this.manual = false;\n    return this;\n  }\n\n  /**\n   * @param {Number}  y\n   * @param {Boolean} [muteUpdateCallback]\n   * @return {this}\n   */\n  setY(y, muteUpdateCallback = false) {\n    if (this.disabled[1]) return;\n    const v = round(y, 5);\n    this.overshootTicker.pause();\n    this.manual = true;\n    this.updated = !muteUpdateCallback;\n    this.destY = v;\n    this.snapped[1] = snap(v, this.snapY);\n    this.animate[this.yProp](v, 0);\n    this.manual = false;\n    return this;\n  }\n  get x() {\n    return round(/** @type {Number} */this.animate[this.xProp](), globals.precision);\n  }\n  set x(x) {\n    this.setX(x, false);\n  }\n  get y() {\n    return round(/** @type {Number} */this.animate[this.yProp](), globals.precision);\n  }\n  set y(y) {\n    this.setY(y, false);\n  }\n  get progressX() {\n    return mapRange(this.x, this.containerBounds[3], this.containerBounds[1], 0, 1);\n  }\n  set progressX(x) {\n    this.setX(mapRange(x, 0, 1, this.containerBounds[3], this.containerBounds[1]), false);\n  }\n  get progressY() {\n    return mapRange(this.y, this.containerBounds[0], this.containerBounds[2], 0, 1);\n  }\n  set progressY(y) {\n    this.setY(mapRange(y, 0, 1, this.containerBounds[0], this.containerBounds[2]), false);\n  }\n  updateScrollCoords() {\n    const sx = round(this.useWin ? win.scrollX : this.$container.scrollLeft, 0);\n    const sy = round(this.useWin ? win.scrollY : this.$container.scrollTop, 0);\n    const [cpt, cpr, cpb, cpl] = this.containerPadding;\n    const threshold = this.scrollThreshold;\n    this.scroll.x = sx;\n    this.scroll.y = sy;\n    this.scrollBounds[0] = sy - this.targetBounds[0] + cpt - threshold;\n    this.scrollBounds[1] = sx - this.targetBounds[1] - cpr + threshold;\n    this.scrollBounds[2] = sy - this.targetBounds[2] - cpb + threshold;\n    this.scrollBounds[3] = sx - this.targetBounds[3] + cpl - threshold;\n  }\n  updateBoundingValues() {\n    const $container = this.$container;\n    // Return early if no $container defined to prevents error when reading scrollWidth / scrollHeight\n    // https://github.com/juliangarnier/anime/issues/1064\n    if (!$container) return;\n    const cx = this.x;\n    const cy = this.y;\n    const cx2 = this.coords[2];\n    const cy2 = this.coords[3];\n    // Prevents interfering with the scroll area in cases the target is outside of the container\n    // Make sure the temp coords are also adjuset to prevents wrong delta calculation on updates\n    this.coords[2] = 0;\n    this.coords[3] = 0;\n    this.setX(0, true);\n    this.setY(0, true);\n    this.transforms.remove();\n    const iw = this.window[0] = win.innerWidth;\n    const ih = this.window[1] = win.innerHeight;\n    const uw = this.useWin;\n    const sw = $container.scrollWidth;\n    const sh = $container.scrollHeight;\n    const fx = this.fixed;\n    const transformContainerRect = $container.getBoundingClientRect();\n    const [cpt, cpr, cpb, cpl] = this.containerPadding;\n    this.dragArea[0] = uw ? 0 : transformContainerRect.left;\n    this.dragArea[1] = uw ? 0 : transformContainerRect.top;\n    this.scrollView[0] = uw ? clamp(sw, iw, sw) : sw;\n    this.scrollView[1] = uw ? clamp(sh, ih, sh) : sh;\n    this.updateScrollCoords();\n    const {\n      width,\n      height,\n      left,\n      top,\n      right,\n      bottom\n    } = $container.getBoundingClientRect();\n    this.dragArea[2] = round(uw ? clamp(width, iw, iw) : width, 0);\n    this.dragArea[3] = round(uw ? clamp(height, ih, ih) : height, 0);\n    const containerOverflow = get($container, 'overflow');\n    const visibleOverflow = containerOverflow === 'visible';\n    const hiddenOverflow = containerOverflow === 'hidden';\n    this.canScroll = fx ? false : this.contained && ($container === doc.body && visibleOverflow || !hiddenOverflow && !visibleOverflow) && (sw > this.dragArea[2] + cpl - cpr || sh > this.dragArea[3] + cpt - cpb) && (!this.containerArray || this.containerArray && !isArr(this.containerArray));\n    if (this.contained) {\n      const sx = this.scroll.x;\n      const sy = this.scroll.y;\n      const canScroll = this.canScroll;\n      const targetRect = this.$target.getBoundingClientRect();\n      const hiddenLeft = canScroll ? uw ? 0 : $container.scrollLeft : 0;\n      const hiddenTop = canScroll ? uw ? 0 : $container.scrollTop : 0;\n      const hiddenRight = canScroll ? this.scrollView[0] - hiddenLeft - width : 0;\n      const hiddenBottom = canScroll ? this.scrollView[1] - hiddenTop - height : 0;\n      this.targetBounds[0] = round(targetRect.top + sy - (uw ? 0 : top), 0);\n      this.targetBounds[1] = round(targetRect.right + sx - (uw ? iw : right), 0);\n      this.targetBounds[2] = round(targetRect.bottom + sy - (uw ? ih : bottom), 0);\n      this.targetBounds[3] = round(targetRect.left + sx - (uw ? 0 : left), 0);\n      if (this.containerArray) {\n        this.containerBounds[0] = this.containerArray[0] + cpt;\n        this.containerBounds[1] = this.containerArray[1] - cpr;\n        this.containerBounds[2] = this.containerArray[2] - cpb;\n        this.containerBounds[3] = this.containerArray[3] + cpl;\n      } else {\n        this.containerBounds[0] = -round(targetRect.top - (fx ? clamp(top, 0, ih) : top) + hiddenTop - cpt, 0);\n        this.containerBounds[1] = -round(targetRect.right - (fx ? clamp(right, 0, iw) : right) - hiddenRight + cpr, 0);\n        this.containerBounds[2] = -round(targetRect.bottom - (fx ? clamp(bottom, 0, ih) : bottom) - hiddenBottom + cpb, 0);\n        this.containerBounds[3] = -round(targetRect.left - (fx ? clamp(left, 0, iw) : left) + hiddenLeft - cpl, 0);\n      }\n    }\n    this.transforms.revert();\n    // Restore coordinates\n    this.coords[2] = cx2;\n    this.coords[3] = cy2;\n    this.setX(cx, true);\n    this.setY(cy, true);\n  }\n\n  /**\n   * @param  {Array} bounds\n   * @param  {Number} x\n   * @param  {Number} y\n   * @return {Number}\n   */\n  isOutOfBounds(bounds, x, y) {\n    // Returns 0 if not OB, 1 if x is OB, 2 if y is OB, 3 if both x and y are OB\n    if (!this.contained) return 0;\n    const [bt, br, bb, bl] = bounds;\n    const [dx, dy] = this.disabled;\n    const obx = !dx && x < bl || !dx && x > br;\n    const oby = !dy && y < bt || !dy && y > bb;\n    return obx && !oby ? 1 : !obx && oby ? 2 : obx && oby ? 3 : 0;\n  }\n  refresh() {\n    const params = this.parameters;\n    const paramX = params.x;\n    const paramY = params.y;\n    const container = parseDraggableFunctionParameter(params.container, this);\n    const cp = parseDraggableFunctionParameter(params.containerPadding, this) || 0;\n    const containerPadding = /** @type {[Number, Number, Number, Number]} */isArr(cp) ? cp : [cp, cp, cp, cp];\n    const cx = this.x;\n    const cy = this.y;\n    const parsedCursorStyles = parseDraggableFunctionParameter(params.cursor, this);\n    const cursorStyles = {\n      onHover: 'grab',\n      onGrab: 'grabbing'\n    };\n    if (parsedCursorStyles) {\n      const {\n        onHover,\n        onGrab\n      } = /** @type {DraggableCursorParams} */parsedCursorStyles;\n      if (onHover) cursorStyles.onHover = onHover;\n      if (onGrab) cursorStyles.onGrab = onGrab;\n    }\n    const parsedDragThreshold = parseDraggableFunctionParameter(params.dragThreshold, this);\n    const dragThreshold = {\n      mouse: 3,\n      touch: 7\n    };\n    if (isNum(parsedDragThreshold)) {\n      dragThreshold.mouse = parsedDragThreshold;\n      dragThreshold.touch = parsedDragThreshold;\n    } else if (parsedDragThreshold) {\n      const {\n        mouse,\n        touch\n      } = parsedDragThreshold;\n      if (!isUnd(mouse)) dragThreshold.mouse = mouse;\n      if (!isUnd(touch)) dragThreshold.touch = touch;\n    }\n    this.containerArray = isArr(container) ? container : null;\n    this.$container = /** @type {HTMLElement} */container && !this.containerArray ? parseTargets(/** @type {DOMTarget} */container)[0] : doc.body;\n    this.useWin = this.$container === doc.body;\n    /** @type {Window | HTMLElement} */\n    this.$scrollContainer = this.useWin ? win : this.$container;\n    this.isFinePointer = matchMedia('(pointer:fine)').matches;\n    this.containerPadding = setValue(containerPadding, [0, 0, 0, 0]);\n    this.containerFriction = clamp(setValue(parseDraggableFunctionParameter(params.containerFriction, this), .8), 0, 1);\n    this.releaseContainerFriction = clamp(setValue(parseDraggableFunctionParameter(params.releaseContainerFriction, this), this.containerFriction), 0, 1);\n    this.snapX = parseDraggableFunctionParameter(isObj(paramX) && !isUnd(paramX.snap) ? paramX.snap : params.snap, this);\n    this.snapY = parseDraggableFunctionParameter(isObj(paramY) && !isUnd(paramY.snap) ? paramY.snap : params.snap, this);\n    this.scrollSpeed = setValue(parseDraggableFunctionParameter(params.scrollSpeed, this), 1.5);\n    this.scrollThreshold = setValue(parseDraggableFunctionParameter(params.scrollThreshold, this), 20);\n    this.dragSpeed = setValue(parseDraggableFunctionParameter(params.dragSpeed, this), 1);\n    this.dragThreshold = this.isFinePointer ? dragThreshold.mouse : dragThreshold.touch;\n    this.minVelocity = setValue(parseDraggableFunctionParameter(params.minVelocity, this), 0);\n    this.maxVelocity = setValue(parseDraggableFunctionParameter(params.maxVelocity, this), 50);\n    this.velocityMultiplier = setValue(parseDraggableFunctionParameter(params.velocityMultiplier, this), 1);\n    this.cursor = parsedCursorStyles === false ? false : cursorStyles;\n    this.updateBoundingValues();\n\n    // const ob = this.isOutOfBounds(this.containerBounds, this.x, this.y);\n    // if (ob === 1 || ob === 3) this.progressX = px;\n    // if (ob === 2 || ob === 3) this.progressY = py;\n\n    // if (this.initialized && this.contained) {\n    //   if (this.progressX !== px) this.progressX = px;\n    //   if (this.progressY !== py) this.progressY = py;\n    // }\n\n    const [bt, br, bb, bl] = this.containerBounds;\n    this.setX(clamp(cx, bl, br), true);\n    this.setY(clamp(cy, bt, bb), true);\n  }\n  update() {\n    this.updateScrollCoords();\n    if (this.canScroll) {\n      const [cpt, cpr, cpb, cpl] = this.containerPadding;\n      const [sw, sh] = this.scrollView;\n      const daw = this.dragArea[2];\n      const dah = this.dragArea[3];\n      const csx = this.scroll.x;\n      const csy = this.scroll.y;\n      const nsw = this.$container.scrollWidth;\n      const nsh = this.$container.scrollHeight;\n      const csw = this.useWin ? clamp(nsw, this.window[0], nsw) : nsw;\n      const csh = this.useWin ? clamp(nsh, this.window[1], nsh) : nsh;\n      const swd = sw - csw;\n      const shd = sh - csh;\n      // Handle cases where the scrollarea dimensions changes during drag\n      if (this.dragged && swd > 0) {\n        this.coords[0] -= swd;\n        this.scrollView[0] = csw;\n      }\n      if (this.dragged && shd > 0) {\n        this.coords[1] -= shd;\n        this.scrollView[1] = csh;\n      }\n      // Handle autoscroll when target is at the edges of the scroll bounds\n      const s = this.scrollSpeed * 10;\n      const threshold = this.scrollThreshold;\n      const [x, y] = this.coords;\n      const [st, sr, sb, sl] = this.scrollBounds;\n      const t = round(clamp((y - st + cpt) / threshold, -1, 0) * s, 0);\n      const r = round(clamp((x - sr - cpr) / threshold, 0, 1) * s, 0);\n      const b = round(clamp((y - sb - cpb) / threshold, 0, 1) * s, 0);\n      const l = round(clamp((x - sl + cpl) / threshold, -1, 0) * s, 0);\n      if (t || b || l || r) {\n        const [nx, ny] = this.disabled;\n        let scrollX = csx;\n        let scrollY = csy;\n        if (!nx) {\n          scrollX = round(clamp(csx + (l || r), 0, sw - daw), 0);\n          this.coords[0] -= csx - scrollX;\n        }\n        if (!ny) {\n          scrollY = round(clamp(csy + (t || b), 0, sh - dah), 0);\n          this.coords[1] -= csy - scrollY;\n        }\n        // Note: Safari mobile requires to use different scroll methods depending if using the window or not\n        if (this.useWin) {\n          this.$scrollContainer.scrollBy(-(csx - scrollX), -(csy - scrollY));\n        } else {\n          this.$scrollContainer.scrollTo(scrollX, scrollY);\n        }\n      }\n    }\n    const [ct, cr, cb, cl] = this.containerBounds;\n    const [px1, py1, px2, py2, px3, py3] = this.pointer;\n    this.coords[0] += (px1 - px3) * this.dragSpeed;\n    this.coords[1] += (py1 - py3) * this.dragSpeed;\n    this.pointer[4] = px1;\n    this.pointer[5] = py1;\n    const [cx, cy] = this.coords;\n    const [sx, sy] = this.snapped;\n    const cf = (1 - this.containerFriction) * this.dragSpeed;\n    this.setX(cx > cr ? cr + (cx - cr) * cf : cx < cl ? cl + (cx - cl) * cf : cx, false);\n    this.setY(cy > cb ? cb + (cy - cb) * cf : cy < ct ? ct + (cy - ct) * cf : cy, false);\n    this.computeVelocity(px1 - px3, py1 - py3);\n    this.angle = atan2(py1 - py2, px1 - px2);\n    const [nsx, nsy] = this.snapped;\n    if (nsx !== sx && this.snapX || nsy !== sy && this.snapY) {\n      this.onSnap(this);\n    }\n  }\n  stop() {\n    this.updateTicker.pause();\n    this.overshootTicker.pause();\n    // Pauses the in bounds onRelease animations\n    for (let prop in this.animate.animations) this.animate.animations[prop].pause();\n    removeTargetsFromRenderable([this], null, 'x');\n    removeTargetsFromRenderable([this], null, 'y');\n    removeTargetsFromRenderable([this], null, 'progressX');\n    removeTargetsFromRenderable([this], null, 'progressY');\n    removeTargetsFromRenderable([this.scroll]); // Removes any active animations on the container scroll\n    removeTargetsFromRenderable([this.overshootCoords]); // Removes active overshoot animations\n    return this;\n  }\n\n  /**\n   * @param {Number} [duration]\n   * @param {Number} [gap]\n   * @param {EasingParam} [ease]\n   * @return {this}\n   */\n  scrollInView(duration, gap = 0, ease = eases.inOutQuad) {\n    this.updateScrollCoords();\n    const x = this.destX;\n    const y = this.destY;\n    const scroll = this.scroll;\n    const scrollBounds = this.scrollBounds;\n    const canScroll = this.canScroll;\n    if (!this.containerArray && this.isOutOfBounds(scrollBounds, x, y)) {\n      const [st, sr, sb, sl] = scrollBounds;\n      const t = round(clamp(y - st, -maxValue, 0), 0);\n      const r = round(clamp(x - sr, 0, maxValue), 0);\n      const b = round(clamp(y - sb, 0, maxValue), 0);\n      const l = round(clamp(x - sl, -maxValue, 0), 0);\n      new JSAnimation(scroll, {\n        x: round(scroll.x + (l ? l - gap : r ? r + gap : 0), 0),\n        y: round(scroll.y + (t ? t - gap : b ? b + gap : 0), 0),\n        duration: isUnd(duration) ? 350 * globals.timeScale : duration,\n        ease,\n        onUpdate: () => {\n          this.canScroll = false;\n          this.$scrollContainer.scrollTo(scroll.x, scroll.y);\n        }\n      }).init().then(() => {\n        this.canScroll = canScroll;\n      });\n    }\n    return this;\n  }\n  handleHover() {\n    if (this.isFinePointer && this.cursor && !this.cursorStyles) {\n      this.cursorStyles = set(this.$trigger, {\n        cursor: /** @type {DraggableCursorParams} */this.cursor.onHover\n      });\n    }\n  }\n\n  /**\n   * @param  {Number} [duration]\n   * @param  {Number} [gap]\n   * @param  {EasingParam} [ease]\n   * @return {this}\n   */\n  animateInView(duration, gap = 0, ease = eases.inOutQuad) {\n    this.stop();\n    this.updateBoundingValues();\n    const x = this.x;\n    const y = this.y;\n    const [cpt, cpr, cpb, cpl] = this.containerPadding;\n    const bt = this.scroll.y - this.targetBounds[0] + cpt + gap;\n    const br = this.scroll.x - this.targetBounds[1] - cpr - gap;\n    const bb = this.scroll.y - this.targetBounds[2] - cpb - gap;\n    const bl = this.scroll.x - this.targetBounds[3] + cpl + gap;\n    const ob = this.isOutOfBounds([bt, br, bb, bl], x, y);\n    if (ob) {\n      const [disabledX, disabledY] = this.disabled;\n      const destX = clamp(snap(x, this.snapX), bl, br);\n      const destY = clamp(snap(y, this.snapY), bt, bb);\n      const dur = isUnd(duration) ? 350 * globals.timeScale : duration;\n      if (!disabledX && (ob === 1 || ob === 3)) this.animate[this.xProp](destX, dur, ease);\n      if (!disabledY && (ob === 2 || ob === 3)) this.animate[this.yProp](destY, dur, ease);\n    }\n    return this;\n  }\n\n  /**\n   * @param {MouseEvent|TouchEvent} e\n   */\n  handleDown(e) {\n    const $eTarget = /** @type {HTMLElement} */e.target;\n    if (this.grabbed || /** @type {HTMLInputElement} */$eTarget.type === 'range') return;\n    e.stopPropagation();\n    this.grabbed = true;\n    this.released = false;\n    this.stop();\n    this.updateBoundingValues();\n    const touches = /** @type {TouchEvent} */e.changedTouches;\n    const eventX = touches ? touches[0].clientX : /** @type {MouseEvent} */e.clientX;\n    const eventY = touches ? touches[0].clientY : /** @type {MouseEvent} */e.clientY;\n    const {\n      x,\n      y\n    } = this.transforms.normalizePoint(eventX, eventY);\n    const [ct, cr, cb, cl] = this.containerBounds;\n    const cf = (1 - this.containerFriction) * this.dragSpeed;\n    const cx = this.x;\n    const cy = this.y;\n    this.coords[0] = this.coords[2] = !cf ? cx : cx > cr ? cr + (cx - cr) / cf : cx < cl ? cl + (cx - cl) / cf : cx;\n    this.coords[1] = this.coords[3] = !cf ? cy : cy > cb ? cb + (cy - cb) / cf : cy < ct ? ct + (cy - ct) / cf : cy;\n    this.pointer[0] = x;\n    this.pointer[1] = y;\n    this.pointer[2] = x;\n    this.pointer[3] = y;\n    this.pointer[4] = x;\n    this.pointer[5] = y;\n    this.pointer[6] = x;\n    this.pointer[7] = y;\n    this.deltaX = 0;\n    this.deltaY = 0;\n    this.velocity = 0;\n    this.velocityStack[0] = 0;\n    this.velocityStack[1] = 0;\n    this.velocityStack[2] = 0;\n    this.velocityStackIndex = 0;\n    this.angle = 0;\n    if (this.targetStyles) {\n      this.targetStyles.revert();\n      this.targetStyles = null;\n    }\n    const z = /** @type {Number} */get(this.$target, 'zIndex', false);\n    zIndex = (z > zIndex ? z : zIndex) + 1;\n    this.targetStyles = set(this.$target, {\n      zIndex\n    });\n    if (this.triggerStyles) {\n      this.triggerStyles.revert();\n      this.triggerStyles = null;\n    }\n    if (this.cursorStyles) {\n      this.cursorStyles.revert();\n      this.cursorStyles = null;\n    }\n    if (this.isFinePointer && this.cursor) {\n      this.bodyStyles = set(doc.body, {\n        cursor: /** @type {DraggableCursorParams} */this.cursor.onGrab\n      });\n    }\n    this.scrollInView(100, 0, eases.out(3));\n    this.onGrab(this);\n    doc.addEventListener('touchmove', this);\n    doc.addEventListener('touchend', this);\n    doc.addEventListener('touchcancel', this);\n    doc.addEventListener('mousemove', this);\n    doc.addEventListener('mouseup', this);\n    doc.addEventListener('selectstart', this);\n  }\n\n  /**\n   * @param {MouseEvent|TouchEvent} e\n   */\n  handleMove(e) {\n    if (!this.grabbed) return;\n    const touches = /** @type {TouchEvent} */e.changedTouches;\n    const eventX = touches ? touches[0].clientX : /** @type {MouseEvent} */e.clientX;\n    const eventY = touches ? touches[0].clientY : /** @type {MouseEvent} */e.clientY;\n    const {\n      x,\n      y\n    } = this.transforms.normalizePoint(eventX, eventY);\n    const movedX = x - this.pointer[6];\n    const movedY = y - this.pointer[7];\n    let $parent = /** @type {HTMLElement} */e.target;\n    let isAtTop = false;\n    let isAtBottom = false;\n    let canTouchScroll = false;\n    while (touches && $parent && $parent !== this.$trigger) {\n      const overflowY = get($parent, 'overflow-y');\n      if (overflowY !== 'hidden' && overflowY !== 'visible') {\n        const {\n          scrollTop,\n          scrollHeight,\n          clientHeight\n        } = $parent;\n        if (scrollHeight > clientHeight) {\n          canTouchScroll = true;\n          isAtTop = scrollTop <= 3;\n          isAtBottom = scrollTop >= scrollHeight - clientHeight - 3;\n          break;\n        }\n      }\n      $parent = $parent.parentElement;\n    }\n    if (canTouchScroll && (!isAtTop && !isAtBottom || isAtTop && movedY < 0 || isAtBottom && movedY > 0)) {\n      this.pointer[0] = x;\n      this.pointer[1] = y;\n      this.pointer[2] = x;\n      this.pointer[3] = y;\n      this.pointer[4] = x;\n      this.pointer[5] = y;\n      this.pointer[6] = x;\n      this.pointer[7] = y;\n    } else {\n      preventDefault(e);\n\n      // Needed to prevents click on handleUp\n      if (!this.triggerStyles) this.triggerStyles = set(this.$trigger, {\n        pointerEvents: 'none'\n      });\n      // Needed to prevent page scroll while dragging on touch devvice\n      this.$trigger.addEventListener('touchstart', preventDefault, {\n        passive: false\n      });\n      this.$trigger.addEventListener('touchmove', preventDefault, {\n        passive: false\n      });\n      this.$trigger.addEventListener('touchend', preventDefault);\n\n      // Don't check for a miminim distance move if already dragging\n      if (this.dragged || !this.disabled[0] && abs(movedX) > this.dragThreshold || !this.disabled[1] && abs(movedY) > this.dragThreshold) {\n        this.updateTicker.resume();\n        this.pointer[2] = this.pointer[0];\n        this.pointer[3] = this.pointer[1];\n        this.pointer[0] = x;\n        this.pointer[1] = y;\n        this.dragged = true;\n        this.released = false;\n        this.onDrag(this);\n      }\n    }\n  }\n  handleUp() {\n    if (!this.grabbed) return;\n    this.updateTicker.pause();\n    if (this.triggerStyles) {\n      this.triggerStyles.revert();\n      this.triggerStyles = null;\n    }\n    if (this.bodyStyles) {\n      this.bodyStyles.revert();\n      this.bodyStyles = null;\n    }\n    const [disabledX, disabledY] = this.disabled;\n    const [px1, py1, px2, py2, px3, py3] = this.pointer;\n    const [ct, cr, cb, cl] = this.containerBounds;\n    const [sx, sy] = this.snapped;\n    const springX = this.releaseXSpring;\n    const springY = this.releaseYSpring;\n    const releaseEase = this.releaseEase;\n    const hasReleaseSpring = this.hasReleaseSpring;\n    const overshootCoords = this.overshootCoords;\n    const cx = this.x;\n    const cy = this.y;\n    const pv = this.computeVelocity(px1 - px3, py1 - py3);\n    const pa = this.angle = atan2(py1 - py2, px1 - px2);\n    const ds = pv * 150;\n    const cf = (1 - this.releaseContainerFriction) * this.dragSpeed;\n    const nx = cx + cos(pa) * ds;\n    const ny = cy + sin(pa) * ds;\n    const bx = nx > cr ? cr + (nx - cr) * cf : nx < cl ? cl + (nx - cl) * cf : nx;\n    const by = ny > cb ? cb + (ny - cb) * cf : ny < ct ? ct + (ny - ct) * cf : ny;\n    const dx = this.destX = clamp(round(snap(bx, this.snapX), 5), cl, cr);\n    const dy = this.destY = clamp(round(snap(by, this.snapY), 5), ct, cb);\n    const ob = this.isOutOfBounds(this.containerBounds, nx, ny);\n    let durationX = 0;\n    let durationY = 0;\n    let easeX = releaseEase;\n    let easeY = releaseEase;\n    let longestReleaseDuration = 0;\n    overshootCoords.x = cx;\n    overshootCoords.y = cy;\n    if (!disabledX) {\n      const directionX = dx === cr ? cx > cr ? -1 : 1 : cx < cl ? -1 : 1;\n      const distanceX = round(cx - dx, 0);\n      springX.velocity = disabledY && hasReleaseSpring ? distanceX ? ds * directionX / abs(distanceX) : 0 : pv;\n      const {\n        ease,\n        settlingDuration,\n        restDuration\n      } = springX;\n      durationX = cx === dx ? 0 : hasReleaseSpring ? settlingDuration : settlingDuration - restDuration * globals.timeScale;\n      if (hasReleaseSpring) easeX = ease;\n      if (durationX > longestReleaseDuration) longestReleaseDuration = durationX;\n    }\n    if (!disabledY) {\n      const directionY = dy === cb ? cy > cb ? -1 : 1 : cy < ct ? -1 : 1;\n      const distanceY = round(cy - dy, 0);\n      springY.velocity = disabledX && hasReleaseSpring ? distanceY ? ds * directionY / abs(distanceY) : 0 : pv;\n      const {\n        ease,\n        settlingDuration,\n        restDuration\n      } = springY;\n      durationY = cy === dy ? 0 : hasReleaseSpring ? settlingDuration : settlingDuration - restDuration * globals.timeScale;\n      if (hasReleaseSpring) easeY = ease;\n      if (durationY > longestReleaseDuration) longestReleaseDuration = durationY;\n    }\n    if (!hasReleaseSpring && ob && cf && (durationX || durationY)) {\n      const composition = compositionTypes.blend;\n      new JSAnimation(overshootCoords, {\n        x: {\n          to: bx,\n          duration: durationX * .65\n        },\n        y: {\n          to: by,\n          duration: durationY * .65\n        },\n        ease: releaseEase,\n        composition\n      }).init();\n      new JSAnimation(overshootCoords, {\n        x: {\n          to: dx,\n          duration: durationX\n        },\n        y: {\n          to: dy,\n          duration: durationY\n        },\n        ease: releaseEase,\n        composition\n      }).init();\n      this.overshootTicker.stretch(max(durationX, durationY)).restart();\n    } else {\n      if (!disabledX) this.animate[this.xProp](dx, durationX, easeX);\n      if (!disabledY) this.animate[this.yProp](dy, durationY, easeY);\n    }\n    this.scrollInView(longestReleaseDuration, this.scrollThreshold, releaseEase);\n    let hasSnapped = false;\n    if (dx !== sx) {\n      this.snapped[0] = dx;\n      if (this.snapX) hasSnapped = true;\n    }\n    if (dy !== sy && this.snapY) {\n      this.snapped[1] = dy;\n      if (this.snapY) hasSnapped = true;\n    }\n    if (hasSnapped) this.onSnap(this);\n    this.grabbed = false;\n    this.dragged = false;\n    this.updated = true;\n    this.released = true;\n\n    // It's important to trigger the callback after the release animations to be able to cancel them\n    this.onRelease(this);\n    this.$trigger.removeEventListener('touchstart', preventDefault);\n    this.$trigger.removeEventListener('touchmove', preventDefault);\n    this.$trigger.removeEventListener('touchend', preventDefault);\n    doc.removeEventListener('touchmove', this);\n    doc.removeEventListener('touchend', this);\n    doc.removeEventListener('touchcancel', this);\n    doc.removeEventListener('mousemove', this);\n    doc.removeEventListener('mouseup', this);\n    doc.removeEventListener('selectstart', this);\n  }\n  reset() {\n    this.stop();\n    this.resizeTicker.pause();\n    this.grabbed = false;\n    this.dragged = false;\n    this.updated = false;\n    this.released = false;\n    this.canScroll = false;\n    this.setX(0, true);\n    this.setY(0, true);\n    this.coords[0] = 0;\n    this.coords[1] = 0;\n    this.pointer[0] = 0;\n    this.pointer[1] = 0;\n    this.pointer[2] = 0;\n    this.pointer[3] = 0;\n    this.pointer[4] = 0;\n    this.pointer[5] = 0;\n    this.pointer[6] = 0;\n    this.pointer[7] = 0;\n    this.velocity = 0;\n    this.velocityStack[0] = 0;\n    this.velocityStack[1] = 0;\n    this.velocityStack[2] = 0;\n    this.velocityStackIndex = 0;\n    this.angle = 0;\n    return this;\n  }\n  enable() {\n    if (!this.enabled) {\n      this.enabled = true;\n      this.$target.classList.remove('is-disabled');\n      this.touchActionStyles = set(this.$trigger, {\n        touchAction: this.disabled[0] ? 'pan-x' : this.disabled[1] ? 'pan-y' : 'none'\n      });\n      this.$trigger.addEventListener('touchstart', this, {\n        passive: true\n      });\n      this.$trigger.addEventListener('mousedown', this, {\n        passive: true\n      });\n      this.$trigger.addEventListener('mouseenter', this);\n    }\n    return this;\n  }\n  disable() {\n    this.enabled = false;\n    this.grabbed = false;\n    this.dragged = false;\n    this.updated = false;\n    this.released = false;\n    this.canScroll = false;\n    this.touchActionStyles.revert();\n    if (this.cursorStyles) {\n      this.cursorStyles.revert();\n      this.cursorStyles = null;\n    }\n    if (this.triggerStyles) {\n      this.triggerStyles.revert();\n      this.triggerStyles = null;\n    }\n    if (this.bodyStyles) {\n      this.bodyStyles.revert();\n      this.bodyStyles = null;\n    }\n    if (this.targetStyles) {\n      this.targetStyles.revert();\n      this.targetStyles = null;\n    }\n    this.$target.classList.add('is-disabled');\n    this.$trigger.removeEventListener('touchstart', this);\n    this.$trigger.removeEventListener('mousedown', this);\n    this.$trigger.removeEventListener('mouseenter', this);\n    doc.removeEventListener('touchmove', this);\n    doc.removeEventListener('touchend', this);\n    doc.removeEventListener('touchcancel', this);\n    doc.removeEventListener('mousemove', this);\n    doc.removeEventListener('mouseup', this);\n    doc.removeEventListener('selectstart', this);\n    return this;\n  }\n  revert() {\n    this.reset();\n    this.disable();\n    this.$target.classList.remove('is-disabled');\n    this.updateTicker.revert();\n    this.overshootTicker.revert();\n    this.resizeTicker.revert();\n    this.animate.revert();\n    this.resizeObserver.disconnect();\n    return this;\n  }\n\n  /**\n   * @param {Event} e\n   */\n  handleEvent(e) {\n    switch (e.type) {\n      case 'mousedown':\n        this.handleDown(/** @type {MouseEvent} */e);\n        break;\n      case 'touchstart':\n        this.handleDown(/** @type {TouchEvent} */e);\n        break;\n      case 'mousemove':\n        this.handleMove(/** @type {MouseEvent} */e);\n        break;\n      case 'touchmove':\n        this.handleMove(/** @type {TouchEvent} */e);\n        break;\n      case 'mouseup':\n        this.handleUp();\n        break;\n      case 'touchend':\n        this.handleUp();\n        break;\n      case 'touchcancel':\n        this.handleUp();\n        break;\n      case 'mouseenter':\n        this.handleHover();\n        break;\n      case 'selectstart':\n        preventDefault(e);\n        break;\n    }\n  }\n}\n\n/**\n * @param {TargetsParam} target\n * @param {DraggableParams} [parameters]\n * @return {Draggable}\n */\nconst createDraggable = (target, parameters) => new Draggable(target, parameters);\nexport { Draggable, createDraggable };","map":{"version":3,"names":["globals","scope","doc","win","noop","maxValue","compositionTypes","parseTargets","isUnd","isObj","isArr","now","atan2","round","max","snap","clamp","isNum","abs","sqrt","cos","sin","isFnc","setValue","mapRange","Timer","JSAnimation","removeTargetsFromRenderable","Animatable","parseEase","eases","spring","get","set","preventDefault","e","cancelable","DOMProxy","constructor","el","zIndex","parentElement","classList","add","remove","x","v","y","width","height","getBoundingClientRect","top","right","bottom","left","Transforms","$el","inlineTransforms","point","DOMPoint","inversedMatrix","getMatrix","inverse","normalizePoint","matrixTransform","traverseUp","cb","i","matrix","DOMMatrix","transformValue","getComputedStyle","transform","elMatrix","preMultiplySelf","style","revert","ct","removeProperty","parseDraggableFunctionParameter","value","draggable","Draggable","target","parameters","current","register","paramX","paramY","trigger","modifier","ease","releaseEase","customEase","hasSpring","xProp","mapTo","yProp","container","containerArray","$container","body","useWin","$scrollContainer","$target","$trigger","fixed","isFinePointer","containerPadding","containerFriction","releaseContainerFriction","snapX","snapY","scrollSpeed","scrollThreshold","dragSpeed","dragThreshold","maxVelocity","minVelocity","velocityMultiplier","cursor","releaseXSpring","mass","releaseMass","stiffness","releaseStiffness","damping","releaseDamping","releaseYSpring","outQuint","hasReleaseSpring","onGrab","onDrag","onRelease","onUpdate","onSettle","onSnap","onResize","onAfterResize","disabled","animatableParams","paramXObject","animatableXParams","composition","paramYObject","animatableYParams","animate","destX","destY","deltaX","deltaY","scroll","coords","snapped","pointer","scrollView","dragArea","containerBounds","scrollBounds","targetBounds","window","velocityStack","velocityStackIndex","velocityTime","velocity","angle","cursorStyles","triggerStyles","bodyStyles","targetStyles","touchActionStyles","transforms","overshootCoords","overshootTicker","autoplay","updated","manual","onComplete","init","updateTicker","update","contained","grabbed","dragged","released","canScroll","enabled","initialized","activeProp","callbacks","onRender","hasUpdated","hasMoved","hasReleased","dx","dy","computeVelocity","resizeTicker","duration","timeScale","refresh","resizeObserver","ResizeObserver","restart","enable","observe","prevTime","curTime","elapsed","vMul","minV","maxV","vi","setX","muteUpdateCallback","pause","setY","precision","progressX","progressY","updateScrollCoords","sx","scrollX","scrollLeft","sy","scrollY","scrollTop","cpt","cpr","cpb","cpl","threshold","updateBoundingValues","cx","cy","cx2","cy2","iw","innerWidth","ih","innerHeight","uw","sw","scrollWidth","sh","scrollHeight","fx","transformContainerRect","containerOverflow","visibleOverflow","hiddenOverflow","targetRect","hiddenLeft","hiddenTop","hiddenRight","hiddenBottom","isOutOfBounds","bounds","bt","br","bb","bl","obx","oby","params","cp","parsedCursorStyles","onHover","parsedDragThreshold","mouse","touch","matchMedia","matches","daw","dah","csx","csy","nsw","nsh","csw","csh","swd","shd","s","st","sr","sb","sl","t","r","b","l","nx","ny","scrollBy","scrollTo","cr","cl","px1","py1","px2","py2","px3","py3","cf","nsx","nsy","stop","prop","animations","scrollInView","gap","inOutQuad","then","handleHover","animateInView","ob","disabledX","disabledY","dur","handleDown","$eTarget","type","stopPropagation","touches","changedTouches","eventX","clientX","eventY","clientY","z","out","addEventListener","handleMove","movedX","movedY","$parent","isAtTop","isAtBottom","canTouchScroll","overflowY","clientHeight","pointerEvents","passive","resume","handleUp","springX","springY","pv","pa","ds","bx","by","durationX","durationY","easeX","easeY","longestReleaseDuration","directionX","distanceX","settlingDuration","restDuration","directionY","distanceY","blend","to","stretch","hasSnapped","removeEventListener","reset","touchAction","disable","disconnect","handleEvent","createDraggable"],"sources":["/Users/mukku/Desktop/Work and Education/Projects/zeronia.org/node_modules/animejs/dist/modules/draggable/draggable.js"],"sourcesContent":["/**\n * Anime.js - draggable - ESM\n * @version v4.2.2\n * @license MIT\n * @copyright 2025 - Julian Garnier\n */\n\nimport { globals, scope } from '../core/globals.js';\nimport { doc, win, noop, maxValue, compositionTypes } from '../core/consts.js';\nimport { parseTargets } from '../core/targets.js';\nimport { isUnd, isObj, isArr, now, atan2, round, max, snap, clamp, isNum, abs, sqrt, cos, sin, isFnc } from '../core/helpers.js';\nimport { setValue } from '../core/values.js';\nimport { mapRange } from '../utils/number.js';\nimport { Timer } from '../timer/timer.js';\nimport { JSAnimation } from '../animation/animation.js';\nimport { removeTargetsFromRenderable } from '../animation/composition.js';\nimport { Animatable } from '../animatable/animatable.js';\nimport { parseEase, eases } from '../easings/eases/parser.js';\nimport { spring } from '../easings/spring/index.js';\nimport { get, set } from '../utils/target.js';\n\n/**\n * @import {\n *   DOMTarget,\n *   DOMTargetSelector,\n *   DraggableCursorParams,\n *   DraggableDragThresholdParams,\n *   TargetsParam,\n *   DraggableParams,\n *   EasingFunction,\n *   Callback,\n *   AnimatableParams,\n *   DraggableAxisParam,\n *   AnimatableObject,\n *   EasingParam,\n * } from '../types/index.js'\n*/\n\n/**\n * @import {\n *   Spring,\n * } from '../easings/spring/index.js'\n*/\n\n/**\n * @param {Event} e\n */\nconst preventDefault = e => {\n  if (e.cancelable) e.preventDefault();\n};\n\nclass DOMProxy {\n  /** @param {Object} el */\n  constructor(el) {\n    this.el = el;\n    this.zIndex = 0;\n    this.parentElement = null;\n    this.classList = {\n      add: noop,\n      remove: noop,\n    };\n  }\n\n  get x() { return this.el.x || 0 };\n  set x(v) { this.el.x = v; };\n\n  get y() { return this.el.y || 0 };\n  set y(v) { this.el.y = v; };\n\n  get width() { return this.el.width || 0 };\n  set width(v) { this.el.width = v; };\n\n  get height() { return this.el.height || 0 };\n  set height(v) { this.el.height = v; };\n\n  getBoundingClientRect() {\n    return {\n      top: this.y,\n      right: this.x,\n      bottom: this.y + this.height,\n      left: this.x + this.width,\n    }\n  }\n}\n\nclass Transforms {\n  /**\n   * @param {DOMTarget|DOMProxy} $el\n   */\n  constructor($el) {\n    this.$el = $el;\n    this.inlineTransforms = [];\n    this.point = new DOMPoint();\n    this.inversedMatrix = this.getMatrix().inverse();\n  }\n\n  /**\n   * @param {Number} x\n   * @param {Number} y\n   * @return {DOMPoint}\n   */\n  normalizePoint(x, y) {\n    this.point.x = x;\n    this.point.y = y;\n    return this.point.matrixTransform(this.inversedMatrix);\n  }\n\n  /**\n   * @callback TraverseParentsCallback\n   * @param {DOMTarget} $el\n   * @param {Number} i\n   */\n\n  /**\n   * @param {TraverseParentsCallback} cb\n   */\n  traverseUp(cb) {\n    let $el = /** @type {DOMTarget|Document} */(this.$el.parentElement), i = 0;\n    while ($el && $el !== doc) {\n      cb(/** @type {DOMTarget} */($el), i);\n      $el = /** @type {DOMTarget} */($el.parentElement);\n      i++;\n    }\n  }\n\n  getMatrix() {\n    const matrix = new DOMMatrix();\n    this.traverseUp($el => {\n      const transformValue = getComputedStyle($el).transform;\n      if (transformValue) {\n        const elMatrix = new DOMMatrix(transformValue);\n        matrix.preMultiplySelf(elMatrix);\n      }\n    });\n    return matrix;\n  }\n\n  remove() {\n    this.traverseUp(($el, i) => {\n      this.inlineTransforms[i] = $el.style.transform;\n      $el.style.transform = 'none';\n    });\n  }\n\n  revert() {\n    this.traverseUp(($el, i) => {\n      const ct = this.inlineTransforms[i];\n      if (ct === '') {\n        $el.style.removeProperty('transform');\n      } else {\n        $el.style.transform = ct;\n      }\n    });\n  }\n}\n\n/**\n * @template {Array<Number>|DOMTargetSelector|String|Number|Boolean|Function|DraggableCursorParams|DraggableDragThresholdParams} T\n * @param {T | ((draggable: Draggable) => T)} value\n * @param {Draggable} draggable\n * @return {T}\n */\nconst parseDraggableFunctionParameter = (value, draggable) => value && isFnc(value) ? /** @type {Function} */(value)(draggable) : /** @type {T} */(value);\n\nlet zIndex = 0;\n\nclass Draggable {\n  /**\n   * @param {TargetsParam} target\n   * @param {DraggableParams} [parameters]\n   */\n  constructor(target, parameters = {}) {\n    if (!target) return;\n    if (scope.current) scope.current.register(this);\n    const paramX = parameters.x;\n    const paramY = parameters.y;\n    const trigger = parameters.trigger;\n    const modifier = parameters.modifier;\n    const ease = parameters.releaseEase;\n    const customEase = ease && parseEase(ease);\n    const hasSpring = !isUnd(ease) && !isUnd(/** @type {Spring} */(ease).ease);\n    const xProp = /** @type {String} */(isObj(paramX) && !isUnd(/** @type {Object} */(paramX).mapTo) ? /** @type {Object} */(paramX).mapTo : 'translateX');\n    const yProp = /** @type {String} */(isObj(paramY) && !isUnd(/** @type {Object} */(paramY).mapTo) ? /** @type {Object} */(paramY).mapTo : 'translateY');\n    const container = parseDraggableFunctionParameter(parameters.container, this);\n    this.containerArray = isArr(container) ? container : null;\n    this.$container = /** @type {HTMLElement} */(container && !this.containerArray ? parseTargets(/** @type {DOMTarget} */(container))[0] : doc.body);\n    this.useWin = this.$container === doc.body;\n    /** @type {Window | HTMLElement} */\n    this.$scrollContainer = this.useWin ? win : this.$container;\n    this.$target = /** @type {HTMLElement} */(isObj(target) ? new DOMProxy(target) : parseTargets(target)[0]);\n    this.$trigger = /** @type {HTMLElement} */(parseTargets(trigger ? trigger : target)[0]);\n    this.fixed = get(this.$target, 'position') === 'fixed';\n    // Refreshable parameters\n    this.isFinePointer = true;\n    /** @type {[Number, Number, Number, Number]} */\n    this.containerPadding = [0, 0, 0, 0];\n    /** @type {Number} */\n    this.containerFriction = 0;\n    /** @type {Number} */\n    this.releaseContainerFriction = 0;\n    /** @type {Number|Array<Number>} */\n    this.snapX = 0;\n    /** @type {Number|Array<Number>} */\n    this.snapY = 0;\n    /** @type {Number} */\n    this.scrollSpeed = 0;\n    /** @type {Number} */\n    this.scrollThreshold = 0;\n    /** @type {Number} */\n    this.dragSpeed = 0;\n    /** @type {Number} */\n    this.dragThreshold = 3;\n    /** @type {Number} */\n    this.maxVelocity = 0;\n    /** @type {Number} */\n    this.minVelocity = 0;\n    /** @type {Number} */\n    this.velocityMultiplier = 0;\n    /** @type {Boolean|DraggableCursorParams} */\n    this.cursor = false;\n    /** @type {Spring} */\n    this.releaseXSpring = hasSpring ? /** @type {Spring} */(ease) : spring({\n      mass: setValue(parameters.releaseMass, 1),\n      stiffness: setValue(parameters.releaseStiffness, 80),\n      damping: setValue(parameters.releaseDamping, 20),\n    });\n    /** @type {Spring} */\n    this.releaseYSpring = hasSpring ? /** @type {Spring} */(ease) : spring({\n      mass: setValue(parameters.releaseMass, 1),\n      stiffness: setValue(parameters.releaseStiffness, 80),\n      damping: setValue(parameters.releaseDamping, 20),\n    });\n    /** @type {EasingFunction} */\n    this.releaseEase = customEase || eases.outQuint;\n    /** @type {Boolean} */\n    this.hasReleaseSpring = hasSpring;\n    /** @type {Callback<this>} */\n    this.onGrab = parameters.onGrab || noop;\n    /** @type {Callback<this>} */\n    this.onDrag = parameters.onDrag || noop;\n    /** @type {Callback<this>} */\n    this.onRelease = parameters.onRelease || noop;\n    /** @type {Callback<this>} */\n    this.onUpdate = parameters.onUpdate || noop;\n    /** @type {Callback<this>} */\n    this.onSettle = parameters.onSettle || noop;\n    /** @type {Callback<this>} */\n    this.onSnap = parameters.onSnap || noop;\n    /** @type {Callback<this>} */\n    this.onResize = parameters.onResize || noop;\n    /** @type {Callback<this>} */\n    this.onAfterResize = parameters.onAfterResize || noop;\n    /** @type {[Number, Number]} */\n    this.disabled = [0, 0];\n    /** @type {AnimatableParams} */\n    const animatableParams = {};\n    if (modifier) animatableParams.modifier = modifier;\n    if (isUnd(paramX) || paramX === true) {\n      animatableParams[xProp] = 0;\n    } else if (isObj(paramX)) {\n      const paramXObject = /** @type {DraggableAxisParam} */(paramX);\n      const animatableXParams = {};\n      if (paramXObject.modifier) animatableXParams.modifier = paramXObject.modifier;\n      if (paramXObject.composition) animatableXParams.composition = paramXObject.composition;\n      animatableParams[xProp] = animatableXParams;\n    } else if (paramX === false) {\n      animatableParams[xProp] = 0;\n      this.disabled[0] = 1;\n    }\n    if (isUnd(paramY) || paramY === true) {\n      animatableParams[yProp] = 0;\n    } else if (isObj(paramY)) {\n      const paramYObject = /** @type {DraggableAxisParam} */(paramY);\n      const animatableYParams = {};\n      if (paramYObject.modifier) animatableYParams.modifier = paramYObject.modifier;\n      if (paramYObject.composition) animatableYParams.composition = paramYObject.composition;\n      animatableParams[yProp] = animatableYParams;\n    } else if (paramY === false) {\n      animatableParams[yProp] = 0;\n      this.disabled[1] = 1;\n    }\n    /** @type {AnimatableObject} */\n    this.animate = /** @type {AnimatableObject} */(new Animatable(this.$target, animatableParams));\n    // Internal props\n    this.xProp = xProp;\n    this.yProp = yProp;\n    this.destX = 0;\n    this.destY = 0;\n    this.deltaX = 0;\n    this.deltaY = 0;\n    this.scroll = {x: 0, y: 0};\n    /** @type {[Number, Number, Number, Number]} */\n    this.coords = [this.x, this.y, 0, 0]; // x, y, temp x, temp y\n    /** @type {[Number, Number]} */\n    this.snapped = [0, 0]; // x, y\n    /** @type {[Number, Number, Number, Number, Number, Number, Number, Number]} */\n    this.pointer = [0, 0, 0, 0, 0, 0, 0, 0]; // x1, y1, x2, y2, temp x1, temp y1, temp x2, temp y2\n    /** @type {[Number, Number]} */\n    this.scrollView = [0, 0]; // w, h\n    /** @type {[Number, Number, Number, Number]} */\n    this.dragArea = [0, 0, 0, 0]; // x, y, w, h\n    /** @type {[Number, Number, Number, Number]} */\n    this.containerBounds = [-maxValue, maxValue, maxValue, -maxValue]; // t, r, b, l\n    /** @type {[Number, Number, Number, Number]} */\n    this.scrollBounds = [0, 0, 0, 0]; // t, r, b, l\n    /** @type {[Number, Number, Number, Number]} */\n    this.targetBounds = [0, 0, 0, 0]; // t, r, b, l\n    /** @type {[Number, Number]} */\n    this.window = [0, 0]; // w, h\n    /** @type {[Number, Number, Number]} */\n    this.velocityStack = [0, 0, 0];\n    /** @type {Number} */\n    this.velocityStackIndex = 0;\n    /** @type {Number} */\n    this.velocityTime = now();\n    /** @type {Number} */\n    this.velocity = 0;\n    /** @type {Number} */\n    this.angle = 0;\n    /** @type {JSAnimation} */\n    this.cursorStyles = null;\n    /** @type {JSAnimation} */\n    this.triggerStyles = null;\n    /** @type {JSAnimation} */\n    this.bodyStyles = null;\n    /** @type {JSAnimation} */\n    this.targetStyles = null;\n    /** @type {JSAnimation} */\n    this.touchActionStyles = null;\n    this.transforms = new Transforms(this.$target);\n    this.overshootCoords = { x: 0, y: 0 };\n    this.overshootTicker = new Timer({\n      autoplay: false,\n      onUpdate: () => {\n        this.updated = true;\n        this.manual = true;\n        // Use a duration of 1 to prevent the animatable from completing immediately to prevent issues with onSettle()\n        // https://github.com/juliangarnier/anime/issues/1045\n        if (!this.disabled[0]) this.animate[this.xProp](this.overshootCoords.x, 1);\n        if (!this.disabled[1]) this.animate[this.yProp](this.overshootCoords.y, 1);\n      },\n      onComplete: () => {\n        this.manual = false;\n        if (!this.disabled[0]) this.animate[this.xProp](this.overshootCoords.x, 0);\n        if (!this.disabled[1]) this.animate[this.yProp](this.overshootCoords.y, 0);\n      },\n    }, null, 0).init();\n    this.updateTicker = new Timer({ autoplay: false, onUpdate: () => this.update() }, null,0,).init();\n    this.contained = !isUnd(container);\n    this.manual = false;\n    this.grabbed = false;\n    this.dragged = false;\n    this.updated = false;\n    this.released = false;\n    this.canScroll = false;\n    this.enabled = false;\n    this.initialized = false;\n    this.activeProp = this.disabled[1] ? xProp : yProp;\n    this.animate.callbacks.onRender = () => {\n      const hasUpdated = this.updated;\n      const hasMoved = this.grabbed && hasUpdated;\n      const hasReleased = !hasMoved && this.released;\n      const x = this.x;\n      const y = this.y;\n      const dx = x - this.coords[2];\n      const dy = y - this.coords[3];\n      this.deltaX = dx;\n      this.deltaY = dy;\n      this.coords[2] = x;\n      this.coords[3] = y;\n      // Check if dx or dy are not 0 to check if the draggable has actually moved\n      // https://github.com/juliangarnier/anime/issues/1032\n      if (hasUpdated && (dx || dy)) {\n        this.onUpdate(this);\n      }\n      if (!hasReleased) {\n        this.updated = false;\n      } else {\n        this.computeVelocity(dx, dy);\n        this.angle = atan2(dy, dx);\n      }\n    };\n    this.animate.callbacks.onComplete = () => {\n      if ((!this.grabbed && this.released)) {\n        // Set released to false before calling onSettle to avoid recursion\n        this.released = false;\n      }\n      if (!this.manual) {\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.velocity = 0;\n        this.velocityStack[0] = 0;\n        this.velocityStack[1] = 0;\n        this.velocityStack[2] = 0;\n        this.velocityStackIndex = 0;\n        this.onSettle(this);\n      }\n    };\n    this.resizeTicker = new Timer({\n      autoplay: false,\n      duration: 150 * globals.timeScale,\n      onComplete: () => {\n        this.onResize(this);\n        this.refresh();\n        this.onAfterResize(this);\n      },\n    }).init();\n    this.parameters = parameters;\n    this.resizeObserver = new ResizeObserver(() => {\n      if (this.initialized) {\n        this.resizeTicker.restart();\n      } else {\n        this.initialized = true;\n      }\n    });\n    this.enable();\n    this.refresh();\n    this.resizeObserver.observe(this.$container);\n    if (!isObj(target)) this.resizeObserver.observe(this.$target);\n  }\n\n  /**\n   * @param  {Number} dx\n   * @param  {Number} dy\n   * @return {Number}\n   */\n  computeVelocity(dx, dy) {\n    const prevTime = this.velocityTime;\n    const curTime = now();\n    const elapsed = curTime - prevTime;\n    if (elapsed < 17) return this.velocity;\n    this.velocityTime = curTime;\n    const velocityStack = this.velocityStack;\n    const vMul = this.velocityMultiplier;\n    const minV = this.minVelocity;\n    const maxV = this.maxVelocity;\n    const vi = this.velocityStackIndex;\n    velocityStack[vi] = round(clamp((sqrt(dx * dx + dy * dy) / elapsed) * vMul, minV, maxV), 5);\n    const velocity = max(velocityStack[0], velocityStack[1], velocityStack[2]);\n    this.velocity = velocity;\n    this.velocityStackIndex = (vi + 1) % 3;\n    return velocity;\n  }\n\n  /**\n   * @param {Number}  x\n   * @param {Boolean} [muteUpdateCallback]\n   * @return {this}\n   */\n  setX(x, muteUpdateCallback = false) {\n    if (this.disabled[0]) return;\n    const v = round(x, 5);\n    this.overshootTicker.pause();\n    this.manual = true;\n    this.updated = !muteUpdateCallback;\n    this.destX = v;\n    this.snapped[0] = snap(v, this.snapX);\n    this.animate[this.xProp](v, 0);\n    this.manual = false;\n    return this;\n  }\n\n  /**\n   * @param {Number}  y\n   * @param {Boolean} [muteUpdateCallback]\n   * @return {this}\n   */\n  setY(y, muteUpdateCallback = false) {\n    if (this.disabled[1]) return;\n    const v = round(y, 5);\n    this.overshootTicker.pause();\n    this.manual = true;\n    this.updated = !muteUpdateCallback;\n    this.destY = v;\n    this.snapped[1] = snap(v, this.snapY);\n    this.animate[this.yProp](v, 0);\n    this.manual = false;\n    return this;\n  }\n\n  get x() {\n    return round(/** @type {Number} */(this.animate[this.xProp]()), globals.precision);\n  }\n\n  set x(x) {\n    this.setX(x, false);\n  }\n\n  get y() {\n    return round(/** @type {Number} */(this.animate[this.yProp]()), globals.precision);\n  }\n\n  set y(y) {\n    this.setY(y, false);\n  }\n\n  get progressX() {\n    return mapRange(this.x, this.containerBounds[3], this.containerBounds[1], 0, 1);\n  }\n\n  set progressX(x) {\n    this.setX(mapRange(x, 0, 1, this.containerBounds[3], this.containerBounds[1]), false);\n  }\n\n  get progressY() {\n    return mapRange(this.y, this.containerBounds[0], this.containerBounds[2], 0, 1);\n  }\n\n  set progressY(y) {\n    this.setY(mapRange(y, 0, 1, this.containerBounds[0], this.containerBounds[2]), false);\n  }\n\n  updateScrollCoords() {\n    const sx = round(this.useWin ? win.scrollX : this.$container.scrollLeft, 0);\n    const sy = round(this.useWin ? win.scrollY : this.$container.scrollTop, 0);\n    const [ cpt, cpr, cpb, cpl ] = this.containerPadding;\n    const threshold = this.scrollThreshold;\n    this.scroll.x = sx;\n    this.scroll.y = sy;\n    this.scrollBounds[0] = sy - this.targetBounds[0] + cpt - threshold;\n    this.scrollBounds[1] = sx - this.targetBounds[1] - cpr + threshold;\n    this.scrollBounds[2] = sy - this.targetBounds[2] - cpb + threshold;\n    this.scrollBounds[3] = sx - this.targetBounds[3] + cpl - threshold;\n  }\n\n  updateBoundingValues() {\n    const $container = this.$container;\n    // Return early if no $container defined to prevents error when reading scrollWidth / scrollHeight\n    // https://github.com/juliangarnier/anime/issues/1064\n    if (!$container) return;\n    const cx = this.x;\n    const cy = this.y;\n    const cx2 = this.coords[2];\n    const cy2 =  this.coords[3];\n    // Prevents interfering with the scroll area in cases the target is outside of the container\n    // Make sure the temp coords are also adjuset to prevents wrong delta calculation on updates\n    this.coords[2] = 0;\n    this.coords[3] = 0;\n    this.setX(0, true);\n    this.setY(0, true);\n    this.transforms.remove();\n    const iw = this.window[0] = win.innerWidth;\n    const ih = this.window[1] = win.innerHeight;\n    const uw = this.useWin;\n    const sw = $container.scrollWidth;\n    const sh = $container.scrollHeight;\n    const fx = this.fixed;\n    const transformContainerRect = $container.getBoundingClientRect();\n    const [ cpt, cpr, cpb, cpl ] = this.containerPadding;\n    this.dragArea[0] = uw ? 0 : transformContainerRect.left;\n    this.dragArea[1] = uw ? 0 : transformContainerRect.top;\n    this.scrollView[0] = uw ? clamp(sw, iw, sw) : sw;\n    this.scrollView[1] = uw ? clamp(sh, ih, sh) : sh;\n    this.updateScrollCoords();\n    const { width, height, left, top, right, bottom } = $container.getBoundingClientRect();\n    this.dragArea[2] = round(uw ? clamp(width, iw, iw) : width, 0);\n    this.dragArea[3] = round(uw ? clamp(height, ih, ih) : height, 0);\n    const containerOverflow = get($container, 'overflow');\n    const visibleOverflow = containerOverflow === 'visible';\n    const hiddenOverflow = containerOverflow === 'hidden';\n    this.canScroll = fx ? false :\n      this.contained &&\n      (($container === doc.body && visibleOverflow) || (!hiddenOverflow && !visibleOverflow)) &&\n      (sw > this.dragArea[2] + cpl - cpr || sh > this.dragArea[3] + cpt - cpb) &&\n      (!this.containerArray || (this.containerArray && !isArr(this.containerArray)));\n    if (this.contained) {\n      const sx = this.scroll.x;\n      const sy = this.scroll.y;\n      const canScroll = this.canScroll;\n      const targetRect = this.$target.getBoundingClientRect();\n      const hiddenLeft = canScroll ? uw ? 0 : $container.scrollLeft : 0;\n      const hiddenTop = canScroll ? uw ? 0 : $container.scrollTop : 0;\n      const hiddenRight = canScroll ? this.scrollView[0] - hiddenLeft - width : 0;\n      const hiddenBottom = canScroll ? this.scrollView[1] - hiddenTop - height : 0;\n      this.targetBounds[0] = round((targetRect.top + sy) - (uw ? 0 : top), 0);\n      this.targetBounds[1] = round((targetRect.right + sx) - (uw ? iw : right), 0);\n      this.targetBounds[2] = round((targetRect.bottom + sy) - (uw ? ih : bottom), 0);\n      this.targetBounds[3] = round((targetRect.left + sx) - (uw ? 0 : left), 0);\n      if (this.containerArray) {\n        this.containerBounds[0] = this.containerArray[0] + cpt;\n        this.containerBounds[1] = this.containerArray[1] - cpr;\n        this.containerBounds[2] = this.containerArray[2] - cpb;\n        this.containerBounds[3] = this.containerArray[3] + cpl;\n      } else {\n        this.containerBounds[0] = -round(targetRect.top - (fx ? clamp(top, 0, ih) : top) + hiddenTop - cpt, 0);\n        this.containerBounds[1] = -round(targetRect.right - (fx ? clamp(right, 0, iw) : right) - hiddenRight + cpr, 0);\n        this.containerBounds[2] = -round(targetRect.bottom - (fx ? clamp(bottom, 0, ih) : bottom) - hiddenBottom + cpb, 0);\n        this.containerBounds[3] = -round(targetRect.left - (fx ? clamp(left, 0, iw) : left) + hiddenLeft - cpl, 0);\n      }\n    }\n    this.transforms.revert();\n    // Restore coordinates\n    this.coords[2] = cx2;\n    this.coords[3] = cy2;\n    this.setX(cx, true);\n    this.setY(cy, true);\n  }\n\n  /**\n   * @param  {Array} bounds\n   * @param  {Number} x\n   * @param  {Number} y\n   * @return {Number}\n   */\n  isOutOfBounds(bounds, x, y) {\n    // Returns 0 if not OB, 1 if x is OB, 2 if y is OB, 3 if both x and y are OB\n    if (!this.contained) return 0;\n    const [ bt, br, bb, bl ] = bounds;\n    const [ dx, dy ] = this.disabled;\n    const obx = !dx && x < bl || !dx && x > br;\n    const oby = !dy && y < bt || !dy && y > bb;\n    return obx && !oby ? 1 : !obx && oby ? 2 : obx && oby ? 3 : 0;\n  }\n\n  refresh() {\n    const params = this.parameters;\n    const paramX = params.x;\n    const paramY = params.y;\n    const container = parseDraggableFunctionParameter(params.container, this);\n    const cp = parseDraggableFunctionParameter(params.containerPadding, this) || 0;\n    const containerPadding = /** @type {[Number, Number, Number, Number]} */(isArr(cp) ? cp : [cp, cp, cp, cp]);\n    const cx = this.x;\n    const cy = this.y;\n    const parsedCursorStyles = parseDraggableFunctionParameter(params.cursor, this);\n    const cursorStyles = { onHover: 'grab', onGrab: 'grabbing' };\n    if (parsedCursorStyles) {\n      const { onHover, onGrab } = /** @type {DraggableCursorParams} */(parsedCursorStyles);\n      if (onHover) cursorStyles.onHover = onHover;\n      if (onGrab) cursorStyles.onGrab = onGrab;\n    }\n    const parsedDragThreshold = parseDraggableFunctionParameter(params.dragThreshold, this);\n    const dragThreshold = { mouse: 3, touch: 7 };\n    if (isNum(parsedDragThreshold)) {\n      dragThreshold.mouse = parsedDragThreshold;\n      dragThreshold.touch = parsedDragThreshold;\n    } else if (parsedDragThreshold) {\n      const { mouse, touch } = parsedDragThreshold;\n      if (!isUnd(mouse)) dragThreshold.mouse = mouse;\n      if (!isUnd(touch)) dragThreshold.touch = touch;\n    }\n    this.containerArray = isArr(container) ? container : null;\n    this.$container = /** @type {HTMLElement} */(container && !this.containerArray ? parseTargets(/** @type {DOMTarget} */(container))[0] : doc.body);\n    this.useWin = this.$container === doc.body;\n    /** @type {Window | HTMLElement} */\n    this.$scrollContainer = this.useWin ? win : this.$container;\n    this.isFinePointer = matchMedia('(pointer:fine)').matches;\n    this.containerPadding = setValue(containerPadding, [0, 0, 0, 0]);\n    this.containerFriction = clamp(setValue(parseDraggableFunctionParameter(params.containerFriction, this), .8), 0, 1);\n    this.releaseContainerFriction = clamp(setValue(parseDraggableFunctionParameter(params.releaseContainerFriction, this), this.containerFriction), 0, 1);\n    this.snapX = parseDraggableFunctionParameter(isObj(paramX) && !isUnd(paramX.snap) ? paramX.snap : params.snap, this);\n    this.snapY = parseDraggableFunctionParameter(isObj(paramY) && !isUnd(paramY.snap) ? paramY.snap : params.snap, this);\n    this.scrollSpeed = setValue(parseDraggableFunctionParameter(params.scrollSpeed, this), 1.5);\n    this.scrollThreshold = setValue(parseDraggableFunctionParameter(params.scrollThreshold, this), 20);\n    this.dragSpeed = setValue(parseDraggableFunctionParameter(params.dragSpeed, this), 1);\n    this.dragThreshold = this.isFinePointer ? dragThreshold.mouse : dragThreshold.touch;\n    this.minVelocity = setValue(parseDraggableFunctionParameter(params.minVelocity, this), 0);\n    this.maxVelocity = setValue(parseDraggableFunctionParameter(params.maxVelocity, this), 50);\n    this.velocityMultiplier = setValue(parseDraggableFunctionParameter(params.velocityMultiplier, this), 1);\n    this.cursor = parsedCursorStyles === false ? false : cursorStyles;\n    this.updateBoundingValues();\n\n    // const ob = this.isOutOfBounds(this.containerBounds, this.x, this.y);\n    // if (ob === 1 || ob === 3) this.progressX = px;\n    // if (ob === 2 || ob === 3) this.progressY = py;\n\n    // if (this.initialized && this.contained) {\n    //   if (this.progressX !== px) this.progressX = px;\n    //   if (this.progressY !== py) this.progressY = py;\n    // }\n\n    const [ bt, br, bb, bl ] = this.containerBounds;\n    this.setX(clamp(cx, bl, br), true);\n    this.setY(clamp(cy, bt, bb), true);\n  }\n\n  update() {\n    this.updateScrollCoords();\n    if (this.canScroll) {\n      const [ cpt, cpr, cpb, cpl ] = this.containerPadding;\n      const [ sw, sh ] = this.scrollView;\n      const daw = this.dragArea[2];\n      const dah = this.dragArea[3];\n      const csx = this.scroll.x;\n      const csy = this.scroll.y;\n      const nsw = this.$container.scrollWidth;\n      const nsh = this.$container.scrollHeight;\n      const csw = this.useWin ? clamp(nsw, this.window[0], nsw) : nsw;\n      const csh = this.useWin ? clamp(nsh, this.window[1], nsh) : nsh;\n      const swd = sw - csw;\n      const shd = sh - csh;\n      // Handle cases where the scrollarea dimensions changes during drag\n      if (this.dragged && swd > 0) {\n        this.coords[0] -= swd;\n        this.scrollView[0] = csw;\n      }\n      if (this.dragged && shd > 0) {\n        this.coords[1] -= shd;\n        this.scrollView[1] = csh;\n      }\n      // Handle autoscroll when target is at the edges of the scroll bounds\n      const s = this.scrollSpeed * 10;\n      const threshold = this.scrollThreshold;\n      const [ x, y ] = this.coords;\n      const [ st, sr, sb, sl ] = this.scrollBounds;\n      const t = round(clamp((y - st + cpt) / threshold, -1, 0) * s, 0);\n      const r = round(clamp((x - sr - cpr) / threshold, 0, 1) * s, 0);\n      const b = round(clamp((y - sb - cpb) / threshold, 0, 1) * s, 0);\n      const l = round(clamp((x - sl + cpl) / threshold, -1, 0) * s, 0);\n      if (t || b || l || r) {\n        const [nx, ny] = this.disabled;\n        let scrollX = csx;\n        let scrollY = csy;\n        if (!nx) {\n          scrollX = round(clamp(csx + (l || r), 0, sw - daw), 0);\n          this.coords[0] -= csx - scrollX;\n        }\n        if (!ny) {\n          scrollY = round(clamp(csy + (t || b), 0, sh - dah), 0);\n          this.coords[1] -= csy - scrollY;\n        }\n        // Note: Safari mobile requires to use different scroll methods depending if using the window or not\n        if (this.useWin) {\n          this.$scrollContainer.scrollBy(-(csx - scrollX), -(csy - scrollY));\n        } else {\n          this.$scrollContainer.scrollTo(scrollX, scrollY);\n        }\n      }\n    }\n    const [ ct, cr, cb, cl ] = this.containerBounds;\n    const [ px1, py1, px2, py2, px3, py3 ] = this.pointer;\n    this.coords[0] += (px1 - px3) * this.dragSpeed;\n    this.coords[1] += (py1 - py3) * this.dragSpeed;\n    this.pointer[4] = px1;\n    this.pointer[5] = py1;\n    const [ cx, cy ] = this.coords;\n    const [ sx, sy ] = this.snapped;\n    const cf = (1 - this.containerFriction) * this.dragSpeed;\n    this.setX(cx > cr ? cr + (cx - cr) * cf : cx < cl ? cl + (cx - cl) * cf : cx, false);\n    this.setY(cy > cb ? cb + (cy - cb) * cf : cy < ct ? ct + (cy - ct) * cf : cy, false);\n    this.computeVelocity(px1 - px3, py1 - py3);\n    this.angle = atan2(py1 - py2, px1 - px2);\n    const [ nsx, nsy ] = this.snapped;\n    if (nsx !== sx && this.snapX || nsy !== sy && this.snapY) {\n      this.onSnap(this);\n    }\n  }\n\n  stop() {\n    this.updateTicker.pause();\n    this.overshootTicker.pause();\n    // Pauses the in bounds onRelease animations\n    for (let prop in this.animate.animations) this.animate.animations[prop].pause();\n    removeTargetsFromRenderable([this], null, 'x');\n    removeTargetsFromRenderable([this], null, 'y');\n    removeTargetsFromRenderable([this], null, 'progressX');\n    removeTargetsFromRenderable([this], null, 'progressY');\n    removeTargetsFromRenderable([this.scroll]); // Removes any active animations on the container scroll\n    removeTargetsFromRenderable([this.overshootCoords]); // Removes active overshoot animations\n    return this;\n  }\n\n  /**\n   * @param {Number} [duration]\n   * @param {Number} [gap]\n   * @param {EasingParam} [ease]\n   * @return {this}\n   */\n  scrollInView(duration, gap = 0, ease = eases.inOutQuad) {\n    this.updateScrollCoords();\n    const x = this.destX;\n    const y = this.destY;\n    const scroll = this.scroll;\n    const scrollBounds = this.scrollBounds;\n    const canScroll = this.canScroll;\n    if (!this.containerArray && this.isOutOfBounds(scrollBounds, x, y)) {\n      const [ st, sr, sb, sl ] = scrollBounds;\n      const t = round(clamp(y - st, -maxValue, 0), 0);\n      const r = round(clamp(x - sr, 0, maxValue), 0);\n      const b = round(clamp(y - sb, 0, maxValue), 0);\n      const l = round(clamp(x - sl, -maxValue, 0), 0);\n      new JSAnimation(scroll, {\n        x: round(scroll.x + (l ? l - gap : r ? r + gap : 0), 0),\n        y: round(scroll.y + (t ? t - gap : b ? b + gap : 0), 0),\n        duration: isUnd(duration) ? 350 * globals.timeScale : duration,\n        ease,\n        onUpdate: () => {\n          this.canScroll = false;\n          this.$scrollContainer.scrollTo(scroll.x, scroll.y);\n        }\n      }).init().then(() => {\n        this.canScroll = canScroll;\n      });\n    }\n    return this;\n  }\n\n  handleHover() {\n    if (this.isFinePointer && this.cursor && !this.cursorStyles) {\n      this.cursorStyles = set(this.$trigger, {\n        cursor: /** @type {DraggableCursorParams} */(this.cursor).onHover\n      });\n    }\n  }\n\n  /**\n   * @param  {Number} [duration]\n   * @param  {Number} [gap]\n   * @param  {EasingParam} [ease]\n   * @return {this}\n   */\n  animateInView(duration, gap = 0, ease = eases.inOutQuad) {\n    this.stop();\n    this.updateBoundingValues();\n    const x = this.x;\n    const y = this.y;\n    const [ cpt, cpr, cpb, cpl ] = this.containerPadding;\n    const bt = this.scroll.y - this.targetBounds[0] + cpt + gap;\n    const br = this.scroll.x - this.targetBounds[1] - cpr - gap;\n    const bb = this.scroll.y - this.targetBounds[2] - cpb - gap;\n    const bl = this.scroll.x - this.targetBounds[3] + cpl + gap;\n    const ob = this.isOutOfBounds([bt, br, bb, bl], x, y);\n    if (ob) {\n      const [ disabledX, disabledY ] = this.disabled;\n      const destX = clamp(snap(x, this.snapX), bl, br);\n      const destY = clamp(snap(y, this.snapY), bt, bb);\n      const dur = isUnd(duration) ? 350 * globals.timeScale : duration;\n      if (!disabledX && (ob === 1 || ob === 3)) this.animate[this.xProp](destX, dur, ease);\n      if (!disabledY && (ob === 2 || ob === 3)) this.animate[this.yProp](destY, dur, ease);\n    }\n    return this;\n  }\n\n  /**\n   * @param {MouseEvent|TouchEvent} e\n   */\n  handleDown(e) {\n    const $eTarget = /** @type {HTMLElement} */(e.target);\n    if (this.grabbed || /** @type {HTMLInputElement} */($eTarget).type === 'range') return;\n\n    e.stopPropagation();\n\n    this.grabbed = true;\n    this.released = false;\n    this.stop();\n    this.updateBoundingValues();\n    const touches = /** @type {TouchEvent} */(e).changedTouches;\n    const eventX = touches ? touches[0].clientX : /** @type {MouseEvent} */(e).clientX;\n    const eventY = touches ? touches[0].clientY : /** @type {MouseEvent} */(e).clientY;\n    const { x, y } = this.transforms.normalizePoint(eventX, eventY);\n    const [ ct, cr, cb, cl ] = this.containerBounds;\n    const cf = (1 - this.containerFriction) * this.dragSpeed;\n    const cx = this.x;\n    const cy = this.y;\n    this.coords[0] = this.coords[2] = !cf ? cx : cx > cr ? cr + (cx - cr) / cf : cx < cl ? cl + (cx - cl) / cf : cx;\n    this.coords[1] = this.coords[3] = !cf ? cy : cy > cb ? cb + (cy - cb) / cf : cy < ct ? ct + (cy - ct) / cf : cy;\n    this.pointer[0] = x;\n    this.pointer[1] = y;\n    this.pointer[2] = x;\n    this.pointer[3] = y;\n    this.pointer[4] = x;\n    this.pointer[5] = y;\n    this.pointer[6] = x;\n    this.pointer[7] = y;\n    this.deltaX = 0;\n    this.deltaY = 0;\n    this.velocity = 0;\n    this.velocityStack[0] = 0;\n    this.velocityStack[1] = 0;\n    this.velocityStack[2] = 0;\n    this.velocityStackIndex = 0;\n    this.angle = 0;\n    if (this.targetStyles) {\n      this.targetStyles.revert();\n      this.targetStyles = null;\n    }\n    const z = /** @type {Number} */(get(this.$target, 'zIndex', false));\n    zIndex = (z > zIndex ? z : zIndex) + 1;\n    this.targetStyles = set(this.$target, { zIndex });\n    if (this.triggerStyles) {\n      this.triggerStyles.revert();\n      this.triggerStyles = null;\n    }\n    if (this.cursorStyles) {\n      this.cursorStyles.revert();\n      this.cursorStyles = null;\n    }\n    if (this.isFinePointer && this.cursor) {\n      this.bodyStyles = set(doc.body, {\n        cursor: /** @type {DraggableCursorParams} */(this.cursor).onGrab\n      });\n    }\n    this.scrollInView(100, 0, eases.out(3));\n    this.onGrab(this);\n\n    doc.addEventListener('touchmove', this);\n    doc.addEventListener('touchend', this);\n    doc.addEventListener('touchcancel', this);\n    doc.addEventListener('mousemove', this);\n    doc.addEventListener('mouseup', this);\n    doc.addEventListener('selectstart', this);\n  }\n\n  /**\n   * @param {MouseEvent|TouchEvent} e\n   */\n  handleMove(e) {\n    if (!this.grabbed) return;\n    const touches = /** @type {TouchEvent} */(e).changedTouches;\n    const eventX = touches ? touches[0].clientX : /** @type {MouseEvent} */(e).clientX;\n    const eventY = touches ? touches[0].clientY : /** @type {MouseEvent} */(e).clientY;\n    const { x, y } = this.transforms.normalizePoint(eventX, eventY);\n    const movedX = x - this.pointer[6];\n    const movedY = y - this.pointer[7];\n\n    let $parent = /** @type {HTMLElement} */(e.target);\n    let isAtTop = false;\n    let isAtBottom = false;\n    let canTouchScroll = false;\n\n    while (touches && $parent && $parent !== this.$trigger) {\n      const overflowY = get($parent, 'overflow-y');\n      if (overflowY !== 'hidden' && overflowY !== 'visible') {\n        const { scrollTop, scrollHeight, clientHeight } = $parent;\n        if (scrollHeight > clientHeight) {\n          canTouchScroll = true;\n          isAtTop = scrollTop <= 3;\n          isAtBottom = scrollTop >= (scrollHeight - clientHeight) - 3;\n          break;\n        }\n      }\n      $parent = $parent.parentElement;\n    }\n\n    if (canTouchScroll && ((!isAtTop && !isAtBottom) || (isAtTop && movedY < 0) || (isAtBottom && movedY > 0))) {\n\n      this.pointer[0] = x;\n      this.pointer[1] = y;\n      this.pointer[2] = x;\n      this.pointer[3] = y;\n      this.pointer[4] = x;\n      this.pointer[5] = y;\n      this.pointer[6] = x;\n      this.pointer[7] = y;\n\n    } else {\n\n      preventDefault(e);\n\n      // Needed to prevents click on handleUp\n      if (!this.triggerStyles) this.triggerStyles = set(this.$trigger, { pointerEvents: 'none' });\n      // Needed to prevent page scroll while dragging on touch devvice\n      this.$trigger.addEventListener('touchstart', preventDefault, { passive: false });\n      this.$trigger.addEventListener('touchmove', preventDefault, { passive: false });\n      this.$trigger.addEventListener('touchend', preventDefault);\n\n      // Don't check for a miminim distance move if already dragging\n      if (this.dragged || (!this.disabled[0] && abs(movedX) > this.dragThreshold) || (!this.disabled[1] && abs(movedY) > this.dragThreshold)) {\n        this.updateTicker.resume();\n        this.pointer[2] = this.pointer[0];\n        this.pointer[3] = this.pointer[1];\n        this.pointer[0] = x;\n        this.pointer[1] = y;\n        this.dragged = true;\n        this.released = false;\n        this.onDrag(this);\n      }\n    }\n  }\n\n  handleUp() {\n\n    if (!this.grabbed) return;\n\n    this.updateTicker.pause();\n\n    if (this.triggerStyles) {\n      this.triggerStyles.revert();\n      this.triggerStyles = null;\n    }\n\n    if (this.bodyStyles) {\n      this.bodyStyles.revert();\n      this.bodyStyles = null;\n    }\n\n    const [ disabledX, disabledY ] = this.disabled;\n    const [ px1, py1, px2, py2, px3, py3 ] = this.pointer;\n    const [ ct, cr, cb, cl ] = this.containerBounds;\n    const [ sx, sy ] = this.snapped;\n    const springX = this.releaseXSpring;\n    const springY = this.releaseYSpring;\n    const releaseEase = this.releaseEase;\n    const hasReleaseSpring = this.hasReleaseSpring;\n    const overshootCoords = this.overshootCoords;\n    const cx = this.x;\n    const cy = this.y;\n    const pv = this.computeVelocity(px1 - px3, py1 - py3);\n    const pa = this.angle = atan2(py1 - py2, px1 - px2);\n    const ds = pv * 150;\n    const cf = (1 - this.releaseContainerFriction) * this.dragSpeed;\n    const nx = cx + (cos(pa) * ds);\n    const ny = cy + (sin(pa) * ds);\n    const bx = nx > cr ? cr + (nx - cr) * cf : nx < cl ? cl + (nx - cl) * cf : nx;\n    const by = ny > cb ? cb + (ny - cb) * cf : ny < ct ? ct + (ny - ct) * cf : ny;\n    const dx = this.destX = clamp(round(snap(bx, this.snapX), 5), cl, cr);\n    const dy = this.destY = clamp(round(snap(by, this.snapY), 5), ct, cb);\n    const ob = this.isOutOfBounds(this.containerBounds, nx, ny);\n\n    let durationX = 0;\n    let durationY = 0;\n    let easeX = releaseEase;\n    let easeY = releaseEase;\n    let longestReleaseDuration = 0;\n\n    overshootCoords.x = cx;\n    overshootCoords.y = cy;\n\n    if (!disabledX) {\n      const directionX = dx === cr ? cx > cr ? -1 : 1 : cx < cl ? -1 : 1;\n      const distanceX = round(cx - dx, 0);\n      springX.velocity = disabledY && hasReleaseSpring ? distanceX ? (ds * directionX) / abs(distanceX) : 0 : pv;\n      const { ease, settlingDuration, restDuration } = springX;\n      durationX = cx === dx ? 0 : hasReleaseSpring ? settlingDuration : settlingDuration - (restDuration * globals.timeScale);\n      if (hasReleaseSpring) easeX = ease;\n      if (durationX > longestReleaseDuration) longestReleaseDuration = durationX;\n    }\n\n    if (!disabledY) {\n      const directionY = dy === cb ? cy > cb ? -1 : 1 : cy < ct ? -1 : 1;\n      const distanceY = round(cy - dy, 0);\n      springY.velocity = disabledX && hasReleaseSpring ? distanceY ? (ds * directionY) / abs(distanceY) : 0 : pv;\n      const { ease, settlingDuration, restDuration } = springY;\n      durationY = cy === dy ? 0 : hasReleaseSpring ? settlingDuration : settlingDuration - (restDuration * globals.timeScale);\n      if (hasReleaseSpring) easeY = ease;\n      if (durationY > longestReleaseDuration) longestReleaseDuration = durationY;\n    }\n\n    if (!hasReleaseSpring && ob && cf && (durationX || durationY)) {\n\n        const composition = compositionTypes.blend;\n\n        new JSAnimation(overshootCoords, {\n          x: { to: bx, duration: durationX * .65 },\n          y: { to: by, duration: durationY * .65 },\n          ease: releaseEase,\n          composition,\n        }).init();\n\n        new JSAnimation(overshootCoords, {\n          x: { to: dx, duration: durationX },\n          y: { to: dy, duration: durationY },\n          ease: releaseEase,\n          composition,\n        }).init();\n\n        this.overshootTicker.stretch(max(durationX, durationY)).restart();\n\n    } else {\n\n      if (!disabledX) this.animate[this.xProp](dx, durationX, easeX);\n      if (!disabledY) this.animate[this.yProp](dy, durationY, easeY);\n\n    }\n\n    this.scrollInView(longestReleaseDuration, this.scrollThreshold, releaseEase);\n\n    let hasSnapped = false;\n\n    if (dx !== sx) {\n      this.snapped[0] = dx;\n      if (this.snapX) hasSnapped = true;\n    }\n\n    if (dy !== sy && this.snapY) {\n      this.snapped[1] = dy;\n      if (this.snapY) hasSnapped = true;\n    }\n\n    if (hasSnapped) this.onSnap(this);\n\n    this.grabbed = false;\n    this.dragged = false;\n    this.updated = true;\n    this.released = true;\n\n    // It's important to trigger the callback after the release animations to be able to cancel them\n    this.onRelease(this);\n\n    this.$trigger.removeEventListener('touchstart', preventDefault);\n    this.$trigger.removeEventListener('touchmove', preventDefault);\n    this.$trigger.removeEventListener('touchend', preventDefault);\n\n    doc.removeEventListener('touchmove', this);\n    doc.removeEventListener('touchend', this);\n    doc.removeEventListener('touchcancel', this);\n    doc.removeEventListener('mousemove', this);\n    doc.removeEventListener('mouseup', this);\n    doc.removeEventListener('selectstart', this);\n  }\n\n  reset() {\n    this.stop();\n    this.resizeTicker.pause();\n    this.grabbed = false;\n    this.dragged = false;\n    this.updated = false;\n    this.released = false;\n    this.canScroll = false;\n    this.setX(0, true);\n    this.setY(0, true);\n    this.coords[0] = 0;\n    this.coords[1] = 0;\n    this.pointer[0] = 0;\n    this.pointer[1] = 0;\n    this.pointer[2] = 0;\n    this.pointer[3] = 0;\n    this.pointer[4] = 0;\n    this.pointer[5] = 0;\n    this.pointer[6] = 0;\n    this.pointer[7] = 0;\n    this.velocity = 0;\n    this.velocityStack[0] = 0;\n    this.velocityStack[1] = 0;\n    this.velocityStack[2] = 0;\n    this.velocityStackIndex = 0;\n    this.angle = 0;\n    return this;\n  }\n\n  enable() {\n    if (!this.enabled) {\n      this.enabled = true;\n      this.$target.classList.remove('is-disabled');\n      this.touchActionStyles = set(this.$trigger, {\n        touchAction: this.disabled[0] ? 'pan-x' : this.disabled[1] ? 'pan-y' : 'none'\n      });\n      this.$trigger.addEventListener('touchstart', this, { passive: true });\n      this.$trigger.addEventListener('mousedown', this, { passive: true });\n      this.$trigger.addEventListener('mouseenter', this);\n    }\n    return this;\n  }\n\n  disable() {\n    this.enabled = false;\n    this.grabbed = false;\n    this.dragged = false;\n    this.updated = false;\n    this.released = false;\n    this.canScroll = false;\n    this.touchActionStyles.revert();\n    if (this.cursorStyles) {\n      this.cursorStyles.revert();\n      this.cursorStyles = null;\n    }\n    if (this.triggerStyles) {\n      this.triggerStyles.revert();\n      this.triggerStyles = null;\n    }\n    if (this.bodyStyles) {\n      this.bodyStyles.revert();\n      this.bodyStyles = null;\n    }\n    if (this.targetStyles) {\n      this.targetStyles.revert();\n      this.targetStyles = null;\n    }\n    this.$target.classList.add('is-disabled');\n    this.$trigger.removeEventListener('touchstart', this);\n    this.$trigger.removeEventListener('mousedown', this);\n    this.$trigger.removeEventListener('mouseenter', this);\n    doc.removeEventListener('touchmove', this);\n    doc.removeEventListener('touchend', this);\n    doc.removeEventListener('touchcancel', this);\n    doc.removeEventListener('mousemove', this);\n    doc.removeEventListener('mouseup', this);\n    doc.removeEventListener('selectstart', this);\n    return this;\n  }\n\n  revert() {\n    this.reset();\n    this.disable();\n    this.$target.classList.remove('is-disabled');\n    this.updateTicker.revert();\n    this.overshootTicker.revert();\n    this.resizeTicker.revert();\n    this.animate.revert();\n    this.resizeObserver.disconnect();\n    return this;\n  }\n\n  /**\n   * @param {Event} e\n   */\n  handleEvent(e) {\n    switch (e.type) {\n      case 'mousedown':\n        this.handleDown(/** @type {MouseEvent} */(e));\n        break;\n      case 'touchstart':\n        this.handleDown(/** @type {TouchEvent} */(e));\n        break;\n      case 'mousemove':\n        this.handleMove(/** @type {MouseEvent} */(e));\n        break;\n      case 'touchmove':\n        this.handleMove(/** @type {TouchEvent} */(e));\n        break;\n      case 'mouseup':\n        this.handleUp();\n        break;\n      case 'touchend':\n        this.handleUp();\n        break;\n      case 'touchcancel':\n        this.handleUp();\n        break;\n      case 'mouseenter':\n        this.handleHover();\n        break;\n      case 'selectstart':\n        preventDefault(e);\n        break;\n    }\n  }\n}\n\n/**\n * @param {TargetsParam} target\n * @param {DraggableParams} [parameters]\n * @return {Draggable}\n */\nconst createDraggable = (target, parameters) => new Draggable(target, parameters);\n\nexport { Draggable, createDraggable };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}